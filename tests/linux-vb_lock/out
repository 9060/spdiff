Spec. file is: specfile
Comment
Comment
Parsed two: saa7134-empress.c.orig, saa7134-empress.c.new
Comment
Parsed two: videobuf-core.c.orig, videobuf-core.c.new
Parsed two: videobuf-dma-sg.c.orig, videobuf-dma-sg.c.new
Parsed two: videobuf-vmalloc.c.orig, videobuf-vmalloc.c.new
Comment
Reading file pair videobuf-vmalloc.c.orig videobuf-vmalloc.c.new
Reading file pair videobuf-dma-sg.c.orig videobuf-dma-sg.c.new
Reading file pair videobuf-core.c.orig videobuf-core.c.new
Reading file pair saa7134-empress.c.orig saa7134-empress.c.new
mtop(N/H) exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)] ident(NULL) TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]] fulltype[pointer[fulltype[btype(void)]]] pointer[fulltype[btype(void)]] fulltype[btype(void)] btype(void) simple_assi(=) storage[stobis(nosto),inline(no)] inline(no) stobis(nosto) ident(priv) reg() exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)] TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]] fulltype[btype[itype[sgn(unsigned),base(int)]]] btype[itype[sgn(unsigned),base(int)]] itype[sgn(unsigned),base(int)] base(int) sgn(unsigned) ident(type) fulltype[enumname(v4l2_buf_type)] enumname(v4l2_buf_type) ident(dev) param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]] name(priv) param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]] name(type) name(dev) decl(N/H) NCP(N/H) stmt[return[exp[const[int(0)]]]] return[exp[const[int(0)]]] exp[const[int(0)]] const[int(0)] int(0) exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)] ident(vma) TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]] fulltype[pointer[fulltype[struct(vm_area_struct)]]] pointer[fulltype[struct(vm_area_struct)]] fulltype[struct(vm_area_struct)] struct(vm_area_struct) param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]] name(vma) sgn(signed) exp[const[int(1)]] const[int(1)] int(1) exp[ident(dprintk)] ident(dprintk) stmt[exprstmt(none)] exprstmt(none) stmt[return[exp[-[exp[ident(ENOMEM)]]]]] return[exp[-[exp[ident(ENOMEM)]]]] exp[-[exp[ident(ENOMEM)]]] -[exp[ident(ENOMEM)]] exp[ident(ENOMEM)] ident(ENOMEM) TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]] fulltype[btype[itype[sgn(signed),base(int)]]] btype[itype[sgn(signed),base(int)]] itype[sgn(signed),base(int)] logiop(<) aop(|) logiop(==) stmt[return[exp[-[exp[ident(EINVAL)]]]]] return[exp[-[exp[ident(EINVAL)]]]] exp[-[exp[ident(EINVAL)]]] -[exp[ident(EINVAL)]] exp[ident(EINVAL)] ident(EINVAL) logiop(!=) aop(&) exp[-[exp[ident(EBUSY)]]] -[exp[ident(EBUSY)]] exp[ident(EBUSY)] ident(EBUSY) exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)] ident(i) exp[const[other(N/H)]] const[other(N/H)] other(N/H) exp[ident(printk)] ident(printk) ident(lock) exp[ident(mutex_unlock)] ident(mutex_unlock) exp[ident(mutex_lock)] ident(mutex_lock) ident(count) inc_elem(media) inc_elem(linux) includeN[inc_elem(linux),inc_elem(slab.h)] inc_elem(slab.h) includeN[inc_elem(linux),inc_elem(module.h)] inc_elem(module.h) includeN[inc_elem(linux),inc_elem(init.h)] inc_elem(init.h) 
[Main] Constructing all safe parts for 4 term pairs
[Main] Making safe parts for pair 1
[Main] terms that changed: ident(lock) 
[Main] Making safe parts for pair 2
[Main] terms that changed: ident(lock) 
[Main] Making safe parts for pair 3
[Main] terms that changed: ident(lock) 
[Main] Making safe parts for pair 4
[Main] terms that changed: ident(lock) 
Those were the safe parts
{{{
call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[meta(X1)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[meta(X0)]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],meta(X0)] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[meta(X1)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[meta(X1)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[meta(X0)],exp[&ref[meta(X1)]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],meta(X0)]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[meta(X1)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[meta(X1)]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[meta(X1)]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[meta(X1)]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

ident(lock) ==> ident(vb_lock)

record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]

record_ptr[meta(X0),ident(lock)] ==> record_ptr[meta(X0),ident(vb_lock)]

exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]

exp[record_ptr[meta(X0),ident(lock)]] ==> exp[record_ptr[meta(X0),ident(vb_lock)]]

&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],meta(X1)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]]] ==> &ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[meta(X0),meta(X1)]]] ==> &ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]

&ref[exp[record_ptr[meta(X0),ident(lock)]]] ==> &ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]

exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],meta(X1)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]]]] ==> exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]] ==> exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]] ==> exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[meta(X1)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[meta(X0)]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],meta(X0)] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[meta(X1)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[meta(X1)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[meta(X0)],exp[&ref[meta(X1)]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],meta(X0)]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[meta(X1)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[meta(X1)]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[meta(X1)]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[meta(X1)]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]] ==> comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]

stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]]

if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]] ==> if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]

stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]] ==> stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]]

comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]] ==> comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]

stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]

def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]] ==> def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]]

prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(pci.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(media),inc_elem(videobuf-vmalloc.h)],define(N/H),define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(videobuf_vm_open),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_open %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]]]]],def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]],decl(N/H),def[fname(__videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[ident(kzalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]],exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[btype[itype(char)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(%s: allocated at %p(%ld+%ld) & %p(%ld)\n)]],exp[ident(__FUNCTION__)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[binary_arith[aop(-),exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(__videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(pages),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[call[exp[ident(vmalloc_user)],exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc is at addr 0x%08lx, size=%d\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),ini[exp[call[exp[ident(remap_vmalloc_range)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[const[int(0)]]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: remap_vmalloc_range area %p error %d\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(map)]],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(map),fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(offset),ini[exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_WRITE)]]]]],exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_SHARED)]]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(boff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(offset)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: offset invalid [offset=0x%lx]\n)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(map)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(videobuf_mapping)]]],exp[ident(GFP_KERNEL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(vm_operations_struct)]],ident(videobuf_vm_ops)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[binary_arith[aop(|),exp[ident(VM_DONTEXPAND)],exp[ident(VM_RESERVED)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(priv)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(remap_vmalloc_range)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[const[int(0)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap: postponing remap_vmalloc_range\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[call[exp[ident(kmalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(bsize)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]]]],ident(videobuf_vm_open)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]],stmt[return[exp[const[int(0)]]]]]]],NCP(N/H),NCP(N/H),decl(N/H),def[fname(videobuf_queue_vmalloc_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(videobuf_queue_core_init)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(qops)]]]]]]]]]],mtop(N/H),def[fname(videobuf_to_vmalloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]]]]],mtop(N/H),def[fname(videobuf_vmalloc_free),funtype[fulltype[btype(void)],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[call[exp[ident(vfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[jump(return)]]]],mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(pci.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(media),inc_elem(videobuf-vmalloc.h)],define(N/H),define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(videobuf_vm_open),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_open %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]]]]],def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%u,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]],decl(N/H),def[fname(__videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[ident(kzalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]],exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[btype[itype(char)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(%s: allocated at %p(%ld+%ld) & %p(%ld)\n)]],exp[ident(__FUNCTION__)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[binary_arith[aop(-),exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(__videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(pages),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[call[exp[ident(vmalloc_user)],exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc is at addr 0x%08lx, size=%d\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),ini[exp[call[exp[ident(remap_vmalloc_range)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[const[int(0)]]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: remap_vmalloc_range area %p error %d\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(map)]],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(map),fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(offset),ini[exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_WRITE)]]]]],exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_SHARED)]]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(boff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(offset)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: offset invalid [offset=0x%lx]\n)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(map)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(videobuf_mapping)]]],exp[ident(GFP_KERNEL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(vm_operations_struct)]],ident(videobuf_vm_ops)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[binary_arith[aop(|),exp[ident(VM_DONTEXPAND)],exp[ident(VM_RESERVED)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(priv)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(remap_vmalloc_range)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[const[int(0)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap: postponing remap_vmalloc_range\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[call[exp[ident(kmalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vma)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(bsize)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]]]],ident(videobuf_vm_open)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]],stmt[return[exp[const[int(0)]]]]]]],NCP(N/H),NCP(N/H),decl(N/H),def[fname(videobuf_queue_vmalloc_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(videobuf_queue_core_init)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(qops)]]]]]]]]]],mtop(N/H),def[fname(videobuf_to_vmalloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]]]]],mtop(N/H),def[fname(videobuf_vmalloc_free),funtype[fulltype[btype(void)],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_VMAL_MEM)]]]]],stmt[exprstmt[exp[call[exp[ident(vfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_vmalloc_memory)]]]],ident(mem)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[jump(return)]]]],mtop(N/H)]

 ++ 
call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[meta(X0)]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],meta(X0)] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],meta(X0)]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

ident(lock) ==> ident(vb_lock)

record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]

record_ptr[meta(X0),ident(lock)] ==> record_ptr[meta(X0),ident(vb_lock)]

exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]

exp[record_ptr[meta(X0),ident(lock)]] ==> exp[record_ptr[meta(X0),ident(vb_lock)]]

&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],meta(X1)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[meta(X0),ident(lock)]]] ==> &ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]

exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],meta(X1)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]] ==> exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[meta(X0)]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],meta(X0)] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],meta(X0)]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]] ==> comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]

stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]]

if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]] ==> if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]

stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]] ==> stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]]

comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]] ==> comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]

stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]

def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]] ==> def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]]

prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(pci.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(linux),inc_elem(scatterlist.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(media),inc_elem(videobuf-dma-sg.h)],define(N/H),define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(videobuf_vmalloc_to_sg),funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(virt),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sglist),fulltype[pointer[fulltype[struct(scatterlist)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(pg),fulltype[pointer[fulltype[struct(page)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[sizeoftype[fulltype[struct(scatterlist)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_init_table)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]],exp[,seq[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(virt)],exp[ident(PAGE_SIZE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)],exp[call[exp[ident(vmalloc_to_page)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(virt)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)]]],stmt[goto(err)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[call[exp[ident(PageHighMem)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)]]]]]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)],exp[ident(PAGE_SIZE)],exp[const[int(0)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[labeled[lname(err),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(videobuf_pages_to_sg),funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(pages),fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(offset),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sglist),fulltype[pointer[fulltype[struct(scatterlist)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_init_table)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[goto(nopage)],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(PageHighMem)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[goto(highmem)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[const[int(0)]]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]],exp[binary_arith[aop(-),exp[ident(PAGE_SIZE)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(offset)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(offset)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(1)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[goto(nopage)],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(PageHighMem)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[goto(highmem)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[ident(PAGE_SIZE)],exp[const[int(0)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[labeled[lname(nopage),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(sgl: oops - no page\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[labeled[lname(highmem),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(sgl: oops - highmem page\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(videobuf_to_dma),funtype[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[return[exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]],def[fname(videobuf_dma_init),funtype[fulltype[btype(void)],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]]]]],def[fname(videobuf_dma_init_user_locked),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(last),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rw),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],stmt[comp{}[stmt[case[exp[ident(PCI_DMA_FROMDEVICE)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(READ)]]]]]]],stmt[jump(break)],stmt[case[exp[ident(PCI_DMA_TODEVICE)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(WRITE)]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(first)],exp[binary_arith[aop(>>),exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[ident(PAGE_MASK)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(last)],exp[binary_arith[aop(>>),exp[binary_arith[aop(&),exp[binary_arith[aop(-),exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)]]],exp[const[int(1)]]]],exp[ident(PAGE_MASK)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(offset)]],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[~[exp[ident(PAGE_MASK)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(last)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(first)]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(*),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[sizeoftype[fulltype[pointer[fulltype[struct(page)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init user [0x%lx+0x%lx => %d pages]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(varea)]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[ident(get_user_pages)],exp[ident(current)],exp[record_ptr[exp[ident(current)],ident(mm)]],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[ident(PAGE_MASK)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(READ)]]],exp[const[int(1)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[cond3[exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(get_user_pages: err=%d [%d]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]],stmt[return[exp[cond3[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_init_user),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user_locked)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_dma_init_kernel),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init kernel [%d pages]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[call[exp[ident(vmalloc_32)],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc_32(%d pages) failed\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc is at addr 0x%08lx, size=%d\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[const[int(0)]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_init_overlay),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init overlay [%d pages @ bus 0x%lx]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_map),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(pages),fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(offset),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_pages_to_sg)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(offset)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(virt),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_vmalloc_to_sg)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(scatterlist)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[call[exp[ident(sg_dma_address)],exp[&ref[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]]]]]],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[ident(PAGE_MASK)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]],ident(offset)]],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[~[exp[ident(PAGE_MASK)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[call[exp[ident(sg_dma_len)],exp[&ref[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]]]]]],exp[binary_arith[aop(*),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[ident(PAGE_SIZE)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(scatterlist is NULL\n)]]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[call[exp[ident(pci_map_sg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[ident(__FUNCTION__)]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(0)]]]]]],stmt[return[exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(pci_dma_sync_sg_for_cpu)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_unmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(pci_unmap_sg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[call[exp[ident(page_cache_release)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(vfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(varea)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[ident(PCI_DMA_NONE)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_pci_dma_map),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(pci),fulltype[pointer[fulltype[struct(pci_dev)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(pci_dev)]]]],ident(pci)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_map)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]],def[fname(videobuf_pci_dma_unmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(pci),fulltype[pointer[fulltype[struct(pci_dev)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(pci_dev)]]]],ident(pci)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_unmap)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]],def[fname(videobuf_vm_open),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_open %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]]]]],def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]],def[fname(videobuf_vm_fault),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]],param[reg(),name(vmf),fulltype[pointer[fulltype[struct(vm_fault)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(page),fulltype[pointer[fulltype[struct(page)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(3)]],exp[const[string(fault: fault @ %08lx [vma %08lx-%08lx]\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(virtual_address)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)],exp[call[exp[ident(alloc_page)],exp[binary_arith[aop(|),exp[ident(GFP_USER)],exp[ident(__GFP_DMA32)]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]],stmt[return[exp[ident(VM_FAULT_OOM)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(clear_user_page)],exp[call[exp[ident(page_address)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(virtual_address)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(page)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),def[fname(__videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[ident(kzalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]],exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[btype[itype(char)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(%s: allocated at %p(%ld+%ld) & %p(%ld)\n)]],exp[ident(__FUNCTION__)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[binary_arith[aop(-),exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(__videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(pages),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bus),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_dma_init_kernel)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user_locked)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(bus)],exp[binary_arith[aop(+),exp[cast[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)],ident(base)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_dma_init_overlay)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(bus)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(map),fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(last),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_WRITE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: PROT_WRITE please\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_SHARED)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: MAP_SHARED please\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(priv)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(boff)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: offset invalid [offset=0x%lx]\n)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(map)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(bsize)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: size invalid [size=0x%lx]\n)]],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(videobuf_mapping)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],exp[binary_logi[logiop(<=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(baddr)]],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(vm_operations_struct)]],ident(videobuf_vm_ops)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[binary_arith[aop(|),exp[ident(VM_DONTEXPAND)],exp[ident(VM_RESERVED)]]]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[~[exp[ident(VM_IO)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap %p: q=%p %08lx-%08lx pgoff %08lx bufs %d-%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]]],NCP(N/H),NCP(N/H),decl(N/H),def[fname(videobuf_pci_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(int_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(pci_ops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]],stmt[return[exp[call[exp[ident(videobuf_alloc)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]]]]]]]]],def[fname(videobuf_queue_pci_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(videobuf_queue_core_init)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(pci_ops)]]]]]]]]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(linux),inc_elem(pci.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(pagemap.h)],includeN[inc_elem(linux),inc_elem(scatterlist.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(media),inc_elem(videobuf-dma-sg.h)],define(N/H),define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(videobuf_vmalloc_to_sg),funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(virt),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sglist),fulltype[pointer[fulltype[struct(scatterlist)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(pg),fulltype[pointer[fulltype[struct(page)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[sizeoftype[fulltype[struct(scatterlist)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_init_table)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]],exp[,seq[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(virt)],exp[ident(PAGE_SIZE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)],exp[call[exp[ident(vmalloc_to_page)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(virt)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)]]],stmt[goto(err)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[call[exp[ident(PageHighMem)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)]]]]]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(pg)],exp[ident(PAGE_SIZE)],exp[const[int(0)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[labeled[lname(err),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(videobuf_pages_to_sg),funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(pages),fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(offset),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sglist),fulltype[pointer[fulltype[struct(scatterlist)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_init_table)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[goto(nopage)],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(PageHighMem)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]]]],stmt[goto(highmem)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[const[int(0)]]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[const[int(0)]]]],exp[binary_arith[aop(-),exp[ident(PAGE_SIZE)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(offset)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(offset)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(1)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[goto(nopage)],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(PageHighMem)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[goto(highmem)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sg_set_page)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],ident(pages)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[ident(PAGE_SIZE)],exp[const[int(0)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]],stmt[labeled[lname(nopage),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(sgl: oops - no page\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[labeled[lname(highmem),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(sgl: oops - highmem page\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(scatterlist)]]]],ident(sglist)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(videobuf_to_dma),funtype[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[return[exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]],def[fname(videobuf_dma_init),funtype[fulltype[btype(void)],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]]]]],def[fname(videobuf_dma_init_user_locked),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(last),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rw),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],stmt[comp{}[stmt[case[exp[ident(PCI_DMA_FROMDEVICE)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(READ)]]]]]]],stmt[jump(break)],stmt[case[exp[ident(PCI_DMA_TODEVICE)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(WRITE)]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(first)],exp[binary_arith[aop(>>),exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[ident(PAGE_MASK)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(last)],exp[binary_arith[aop(>>),exp[binary_arith[aop(&),exp[binary_arith[aop(-),exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)]]],exp[const[int(1)]]]],exp[ident(PAGE_MASK)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(offset)]],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[~[exp[ident(PAGE_MASK)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(last)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(first)]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(*),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[sizeoftype[fulltype[pointer[fulltype[struct(page)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init user [0x%lx+0x%lx => %d pages]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(varea)]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[ident(get_user_pages)],exp[ident(current)],exp[record_ptr[exp[ident(current)],ident(mm)]],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[ident(PAGE_MASK)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rw)],exp[ident(READ)]]],exp[const[int(1)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[cond3[exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(get_user_pages: err=%d [%d]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]],stmt[return[exp[cond3[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_init_user),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user_locked)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_dma_init_kernel),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init kernel [%d pages]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[call[exp[ident(vmalloc_32)],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc_32(%d pages) failed\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(vmalloc is at addr 0x%08lx, size=%d\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[const[int(0)]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_init_overlay),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(init overlay [%d pages @ bus 0x%lx]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(direction)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(addr)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nr_pages)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_map),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(pages),fulltype[pointer[fulltype[pointer[fulltype[struct(page)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(offset),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_pages_to_sg)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(offset)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(scatterlist)]]],param[reg(),name(virt),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_vmalloc_to_sg)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(scatterlist)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[call[exp[ident(sg_dma_address)],exp[&ref[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]]]]]],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[ident(PAGE_MASK)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]],ident(offset)]],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[~[exp[ident(PAGE_MASK)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[call[exp[ident(sg_dma_len)],exp[&ref[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[const[int(0)]]]]]]]],exp[binary_arith[aop(*),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[ident(PAGE_SIZE)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(scatterlist is NULL\n)]]]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[call[exp[ident(pci_map_sg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[ident(__FUNCTION__)]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(0)]]]]]],stmt[return[exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(pci_dma_sync_sg_for_cpu)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_unmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]]],fulltype[pointer[fulltype[btype(void)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(pci_unmap_sg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglist)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_dma_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(magic)]],exp[ident(MAGIC_DMABUF)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(sglen)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(nr_pages)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[call[exp[ident(page_cache_release)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(pages)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(vfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(vmalloc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(varea)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(bus_addr)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)],ident(direction)]],exp[ident(PCI_DMA_NONE)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_pci_dma_map),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(pci),fulltype[pointer[fulltype[struct(pci_dev)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(pci_dev)]]]],ident(pci)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_map)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]],def[fname(videobuf_pci_dma_unmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(pci),fulltype[pointer[fulltype[struct(pci_dev)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(pci_dev)]]]],ident(pci)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_unmap)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],ident(dma)]]]]]]]],def[fname(videobuf_vm_open),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_open %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]]]]],def[fname(videobuf_vm_close),funtype[fulltype[btype(void)],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(map),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]]],fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(q),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]]],fulltype[pointer[fulltype[struct(videobuf_queue)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(2)]],exp[const[string(vm_close %p [count=%d,vma=%08lx-%08lx]\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(munmap %p q=%p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(priv)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(baddr)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]]],def[fname(videobuf_vm_fault),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]],param[reg(),name(vmf),fulltype[pointer[fulltype[struct(vm_fault)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(page),fulltype[pointer[fulltype[struct(page)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(3)]],exp[const[string(fault: fault @ %08lx [vma %08lx-%08lx]\n)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(virtual_address)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)],exp[call[exp[ident(alloc_page)],exp[binary_arith[aop(|),exp[ident(GFP_USER)],exp[ident(__GFP_DMA32)]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]],stmt[return[exp[ident(VM_FAULT_OOM)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(clear_user_page)],exp[call[exp[ident(page_address)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(virtual_address)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_fault)]]]],ident(vmf)],ident(page)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(page)]]]],ident(page)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),def[fname(__videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[ident(kzalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]],exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[btype[itype(char)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(%s: allocated at %p(%ld+%ld) & %p(%ld)\n)]],exp[ident(__FUNCTION__)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[binary_arith[aop(-),exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(__videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(pages),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bus),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_dma_init_kernel)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(size),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(videobuf_dma_init_user_locked)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(bus)],exp[binary_arith[aop(+),exp[cast[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)],ident(base)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)],exp[binary_arith[aop(>>),exp[call[exp[ident(PAGE_ALIGN)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]],param[reg(),name(direction),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],param[reg(),name(nr_pages),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_dma_init_overlay)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]],exp[ident(PCI_DMA_FROMDEVICE)],exp[TYPEDEXP[fulltype[typeName[ident(dma_addr_t),fullType(unknown)]]],ident(bus)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(pages)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_sync),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(priv)]]],fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[return[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(dma),fulltype[pointer[fulltype[struct(videobuf_dmabuf)]]]]]]],ident(videobuf_dma_sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(dma)]]]]]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(mem),fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(map),fulltype[pointer[fulltype[struct(videobuf_mapping)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(first),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(last),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_WRITE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: PROT_WRITE please\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[ident(VM_SHARED)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: MAP_SHARED please\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(priv)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videbuf_pci_sg_memory)]]]],ident(mem)],ident(magic)]],exp[ident(MAGIC_SG_MEM)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],ident(boff)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: offset invalid [offset=0x%lx]\n)]],exp[binary_arith[aop(<<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[ident(V4L2_MEMORY_MMAP)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(memory)]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(map)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],ident(bsize)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(VIDEO_MAX_FRAME)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap app bug: size invalid [size=0x%lx]\n)]],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(videobuf_mapping)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)]]]]],exp[binary_logi[logiop(<=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]],exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(map)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(baddr)]],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(count)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],ident(q)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(vm_operations_struct)]],ident(videobuf_vm_ops)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[binary_arith[aop(|),exp[ident(VM_DONTEXPAND)],exp[ident(VM_RESERVED)]]]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_flags)]],exp[~[exp[ident(VM_IO)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap %p: q=%p %08lx-%08lx pgoff %08lx bufs %d-%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_mapping)]]]],ident(map)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)],ident(vm_pgoff)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(first)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(last)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]]],NCP(N/H),NCP(N/H),decl(N/H),def[fname(videobuf_pci_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(size),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(q),fulltype[struct(videobuf_queue)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(int_ops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(pci_ops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(size)]]]]],stmt[return[exp[call[exp[ident(videobuf_alloc)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_queue)]],ident(q)]]]]]]]]]],def[fname(videobuf_queue_pci_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(videobuf_queue_core_init)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)],exp[&ref[exp[TYPEDEXP[fulltype[struct(videobuf_qtype_ops)]],ident(pci_ops)]]]]]]]]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)]

 ++ 
comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]] ==> comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]]

def[fname(videobuf_poll_stream),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]]] ==> def[fname(videobuf_poll_stream),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]]]

comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]] ==> comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

def[fname(videobuf_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]]] ==> def[fname(videobuf_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]]

comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]] ==> comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

def[fname(videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]]] ==> def[fname(videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]]

comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]] ==> comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]

def[fname(videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]] ==> def[fname(videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]

comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(nonblocking),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(nonblocking),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]] ==> comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]

def[fname(videobuf_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]] ==> def[fname(videobuf_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X1)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),meta(X2)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),meta(X2)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[meta(X1)]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[meta(X1)]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[meta(X1)]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),meta(X1)] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]

stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

stmt[labeled[meta(X0),stmt[exprstmt[exp[meta(X1)]]]]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

stmt[labeled[meta(X0),stmt[exprstmt[meta(X1)]]]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

stmt[labeled[meta(X0),stmt[meta(X1)]]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

stmt[labeled[meta(X0),meta(X1)]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]

comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]] ==> comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]

def[fname(videobuf_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]] ==> def[fname(videobuf_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]]

comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]] ==> comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]

def[fname(videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]] ==> def[fname(videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[meta(X0)]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],meta(X0)] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],meta(X0)]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],meta(X0)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[meta(X0)]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],meta(X0)] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],meta(X0)]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]] ==> comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]

def[fname(videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]] ==> def[fname(videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]]

ident(lock) ==> ident(vb_lock)

record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[meta(X0)]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]

record_ptr[exp[meta(X0),meta(X1)],ident(lock)] ==> record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]

record_ptr[meta(X0),ident(lock)] ==> record_ptr[meta(X0),ident(vb_lock)]

exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[meta(X0)]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]

exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]] ==> exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]

exp[record_ptr[meta(X0),ident(lock)]] ==> exp[record_ptr[meta(X0),ident(vb_lock)]]

&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]] ==> &ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]

&ref[exp[record_ptr[meta(X0),ident(lock)]]] ==> &ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]

exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(lock)]]]] ==> exp[&ref[exp[record_ptr[exp[meta(X0),meta(X1)],ident(vb_lock)]]]]

exp[&ref[exp[record_ptr[meta(X0),ident(lock)]]]] ==> exp[&ref[exp[record_ptr[meta(X0),ident(vb_lock)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]

comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]] ==> comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]

stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]

def[fname(videobuf_queue_core_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(int_ops),fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]] ==> def[fname(videobuf_queue_core_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(int_ops),fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]]

prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(media),inc_elem(videobuf-core.h)],define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),define(N/H),define(N/H),def[fname(videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(alloc)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(alloc)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(videobuf_waiton),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[mdecl[DECLARE_WAITQUEUE[exp[ident(wait)],exp[ident(current)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(add_wait_queue)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]],exp[&ref[exp[ident(wait)]]]]]]],stmt[while[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]]]],stmt[comp{}[stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(non_blocking)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EAGAIN)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(set_current_state)],exp[cond3[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(intr)],exp[ident(TASK_INTERRUPTIBLE)],exp[ident(TASK_UNINTERRUPTIBLE)]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(set_current_state)],exp[ident(TASK_RUNNING)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(intr)],exp[call[exp[ident(signal_pending)],exp[ident(current)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(buffer waiton: -EINTR\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINTR)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]],stmt[exprstmt[exp[call[exp[ident(remove_wait_queue)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]],exp[&ref[exp[ident(wait)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(wait_event_timeout)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[call[exp[ident(msecs_to_jiffies)],exp[const[int(100)]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(iolock)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)]]]]]]]],def[fname(videobuf_queue_core_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(int_ops),fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]],def[fname(videobuf_queue_is_busy),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: streaming active\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: pending read #1\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: pending read #2\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d mapped\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d queued\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d avtive\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_queue_cancel),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]]]],stmt[exprstmt(none)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]],def[fname(videobuf_next_field),funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(field),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]]],fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_ANY)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_ALTERNATE)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_TOP)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[ident(V4L2_FIELD_BOTTOM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]],exp[ident(V4L2_FIELD_BOTTOM)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[ident(V4L2_FIELD_TOP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]],exp[ident(V4L2_FIELD_TOP)]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]],def[fname(videobuf_status),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(i)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(map)]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_MAPPED)]]]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_PREPARED)],stmt[case[exp[ident(VIDEOBUF_QUEUED)],stmt[case[exp[ident(VIDEOBUF_ACTIVE)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_QUEUED)]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_DONE)]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_NEEDS_INIT)],stmt[case[exp[ident(VIDEOBUF_IDLE)],stmt[jump(break)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(input)]],exp[ident(UNSET)]]],stmt[comp{}[stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(input)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(field)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(field)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(timestamp)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(ts)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(bytesused)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(sequence)]],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(field_count)]],exp[const[int(1)]]]]]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(0)]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(__videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_alloc)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(i)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(input)]],exp[ident(UNSET)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(memory)]],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(bsize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)]]]]],stmt[switch[exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(boff)]],exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[jump(break)]]]]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap setup: %d buffers, %d bytes each\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]],def[fname(videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(nonblocking),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(__videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_queue_cancel)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],NCP(N/H),NCP(N/H),def[fname(__videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(count),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(size),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[const[int(2)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[const[int(2)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[ident(V4L2_MEMORY_USERPTR)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],exp[const[int(1)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_queue_cancel)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],exp[const[int(0)]]]]]]]]],def[fname(videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]]],def[fname(videobuf_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]]]]],NCP(N/H),def[fname(videobuf_poll_stream),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_cgmbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(mbuf),fulltype[pointer[fulltype[struct(video_mbuf)]]]],param[reg(),name(count),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[struct(v4l2_requestbuffers)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]],exp[const[int(0)]],exp[sizeof[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(count)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]]]],ident(videobuf_reqbufs)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(frames)]],exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(count)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(size)]],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(frames)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(offsets)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(boff)]]]]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(size)]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(bsize)]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(media),inc_elem(videobuf-core.h)],define(N/H),define(N/H),decl(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),define(N/H),define(N/H),def[fname(videobuf_alloc),funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(alloc)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(alloc)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)]]]]]],def[fname(videobuf_waiton),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[mdecl[DECLARE_WAITQUEUE[exp[ident(wait)],exp[ident(current)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(add_wait_queue)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]],exp[&ref[exp[ident(wait)]]]]]]],stmt[while[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]]]],stmt[comp{}[stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(non_blocking)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EAGAIN)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(set_current_state)],exp[cond3[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(intr)],exp[ident(TASK_INTERRUPTIBLE)],exp[ident(TASK_UNINTERRUPTIBLE)]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(set_current_state)],exp[ident(TASK_RUNNING)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(intr)],exp[call[exp[ident(signal_pending)],exp[ident(current)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(buffer waiton: -EINTR\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINTR)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]],stmt[exprstmt[exp[call[exp[ident(remove_wait_queue)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]]]],exp[&ref[exp[ident(wait)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_iolock),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(fbuf),fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(wait_event_timeout)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(done)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[call[exp[ident(msecs_to_jiffies)],exp[const[int(100)]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(iolock)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_framebuffer)]]]],ident(fbuf)]]]]]]]],def[fname(videobuf_queue_core_init),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(ops),fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],param[reg(),name(dev),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(irqlock),fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]],param[reg(),name(field),fulltype[enumname(v4l2_field)]],param[reg(),name(msize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(int_ops),fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(spinlock_t),fullType(unknown)]]]]],ident(irqlock)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(msize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(msize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue_ops)]]]],ident(ops)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(priv_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_qtype_ops)]]]],ident(int_ops)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]],def[fname(videobuf_queue_is_busy),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: streaming active\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: pending read #1\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: pending read #2\n)]]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(map)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d mapped\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d queued\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_ACTIVE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(busy: buffer #%d avtive\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[return[exp[const[int(1)]]]]]],stmt[exprstmt(none)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_queue_cancel),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_QUEUED)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]]]],stmt[exprstmt(none)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]],def[fname(videobuf_next_field),funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(field),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(field)]]],fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_ANY)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_ALTERNATE)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[ident(V4L2_FIELD_TOP)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[ident(V4L2_FIELD_BOTTOM)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]],exp[ident(V4L2_FIELD_BOTTOM)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[ident(V4L2_FIELD_TOP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(last)]],exp[ident(V4L2_FIELD_TOP)]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]],def[fname(videobuf_status),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(i)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[TYPEDEXP[fulltype[enumname(v4l2_buf_type)]],ident(type)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(memory)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(baddr)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(bsize)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(boff)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(map)]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_MAPPED)]]]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_PREPARED)],stmt[case[exp[ident(VIDEOBUF_QUEUED)],stmt[case[exp[ident(VIDEOBUF_ACTIVE)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_QUEUED)]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_DONE)]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_NEEDS_INIT)],stmt[case[exp[ident(VIDEOBUF_IDLE)],stmt[jump(break)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(input)]],exp[ident(UNSET)]]],stmt[comp{}[stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(input)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(field)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(field)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(timestamp)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(ts)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(bytesused)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(size)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(sequence)]],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(vb)],ident(field_count)]],exp[const[int(1)]]]]]]]]]]],def[fname(__videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(0)]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_mmap_free),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(__videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[btype(void)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_alloc)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(i)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(input)]],exp[ident(UNSET)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(memory)]],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(bsize)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)]]]]],stmt[switch[exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],ident(boff)]],exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[jump(break)]]]]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(mmap setup: %d buffers, %d bytes each\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)]]]]]],def[fname(videobuf_mmap_setup),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bcount)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(bsize)],exp[TYPEDEXP[fulltype[enumname(v4l2_memory)]],ident(memory)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(size),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(count),fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: count invalid (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_USERPTR)]]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_OVERLAY)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: memory type invalid\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: queue type invalid\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: streaming already exists\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: stream running\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: bufs=%d, size=0x%x [%d pages total]\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[binary_arith[aop(>>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(memory)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(reqbufs: mmap setup returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ret),ini[exp[-[exp[ident(EINVAL)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(unlikely)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(querybuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(videobuf_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: index out of range.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(index)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is null.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(magic)]],exp[ident(MAGIC_BUFFER)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(memory)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: memory type is wrong.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_NEEDS_INIT)]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer is already queued or active.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(flags)]],exp[ident(V4L2_BUF_FLAG_INPUT)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(inputs)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong input.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(input)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(input)]],exp[ident(UNSET)]]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],stmt[comp{}[stmt[case[exp[ident(V4L2_MEMORY_MMAP)],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[other(N/H)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_USERPTR)],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(length)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(bsize)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer length is not enough\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[ident(VIDEOBUF_NEEDS_INIT)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]]]],exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_release)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(baddr)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(userptr)]]]]]],stmt[jump(break)],stmt[case[exp[ident(V4L2_MEMORY_OVERLAY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(boff)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(m)]],ident(offset)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: wrong memory type\n)]]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: requesting next field\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: buffer_prepare returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(qbuf: succeded\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[ident(current)],ident(mm)]],ident(mmap_sem)]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(nonblocking),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Reading running...\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: Wrong type.\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: stream running\n)]]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(non_blocking),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(intr),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(videobuf_waiton)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(nonblocking)],exp[const[int(1)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: waiton returned %d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]],stmt[goto(done)]]],stmt[exprstmt(none)]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],stmt[comp{}[stmt[case[exp[ident(VIDEOBUF_ERROR)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is error\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EIO)]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[case[exp[ident(VIDEOBUF_DONE)],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state is done\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(sync)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_IDLE)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[int(1)]],exp[const[string(dqbuf: state invalid\n)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(done)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(stream)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[const[int(0)]],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],param[reg(),name(vb),fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]]]],ident(videobuf_status)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[const[int(0)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(1)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_PREPARED)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[labeled[lname(done),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(__videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_queue_cancel)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(videobuf_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],NCP(N/H),NCP(N/H),def[fname(__videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(field),fulltype[enumname(v4l2_field)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(flags),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(count),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(size),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_setup)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[const[int(2)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[const[int(2)]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[ident(VIDEO_MAX_FRAME)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[call[exp[ident(PAGE_ALIGN)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(bcount),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(bsize),fulltype[btype[itype[sgn(unsigned),base(int)]]]],param[reg(),name(memory),fulltype[enumname(v4l2_memory)]]]]],ident(__videobuf_mmap_setup)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(size)],exp[ident(V4L2_MEMORY_USERPTR)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[enumname(v4l2_field)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_next_field)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_prepare)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[enumname(v4l2_field)]],ident(field)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(stream)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irqsave)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(count)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(ops)]],ident(buf_queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irqrestore)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(irqlock)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(flags)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],exp[const[int(1)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(__videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(videobuf_queue_cancel)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_mmap_free)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(VIDEO_MAX_FRAME)]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],stmt[jump(continue)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],exp[const[int(0)]]]]]]]]],def[fname(videobuf_read_start),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_read_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]],def[fname(videobuf_stop),funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_streamoff)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_stop)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]]]]],NCP(N/H),def[fname(videobuf_poll_stream),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(buf),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(videobuf_buffer)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(unsigned),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(streaming)]],stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]]]]],ident(__videobuf_read_start)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(reading)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(stream)]],ident(next)]],argtype(N/H),exp[ident(stream)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]],ident(stream)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_off)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(read_buf)]]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[ident(POLLERR)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[const[int(0)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(poll_wait)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(done)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(poll_table),fullType(unknown)]]]]],ident(wait)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_DONE)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_buffer)]]]],ident(buf)],ident(state)]],exp[ident(VIDEOBUF_ERROR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)],exp[binary_arith[aop(|),exp[ident(POLLIN)],exp[ident(POLLRDNORM)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(rc)]]]]]],def[fname(videobuf_mmap_mapper),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retval),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)],exp[call[exp[ident(CALL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[ident(mmap_mapper)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(is_mmapped)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(vb_lock)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retval)]]]]]],def[fname(videobuf_cgmbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(mbuf),fulltype[pointer[fulltype[struct(video_mbuf)]]]],param[reg(),name(count),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[struct(v4l2_requestbuffers)],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(MAGIC_CHECK)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(int_ops)]],ident(magic)]],exp[ident(MAGIC_QTYPE_OPS)]]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]],exp[const[int(0)]],exp[sizeof[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(type)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(type)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(count)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(count)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(memory)]],exp[ident(V4L2_MEMORY_MMAP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(videobuf_queue)]]]],param[reg(),name(req),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]]]],ident(videobuf_reqbufs)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(frames)]],exp[record_acc[exp[TYPEDEXP[fulltype[struct(v4l2_requestbuffers)]],ident(req)],ident(count)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(size)]],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(frames)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(offsets)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(boff)]]]]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(video_mbuf)]]]],ident(mbuf)],ident(size)]],exp[record_ptr[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(videobuf_queue)]]]],ident(q)],ident(bufs)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(bsize)]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H),mtop(N/H)]

 ++ 
call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X0)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],exp[meta(X0)]] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_lock)],meta(X0)] ==> call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_lock)],meta(X0)]] ==> exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_lock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]] ==> comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]

def[fname(ts_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]] ==> def[fname(ts_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X0)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],exp[meta(X0)]] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[ident(mutex_unlock)],meta(X0)] ==> call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[meta(X0)]]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[exp[ident(mutex_unlock)],meta(X0)]] ==> exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[meta(X0)]]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[meta(X0)]]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X0)]]]] ==> stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> stmt[exprstmt[exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],meta(X1)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),meta(X2)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),meta(X2)]]]]] ==> labeled[meta(X0),stmt[exprstmt[exp[call[meta(X1),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]

stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]]] ==> stmt[labeled[meta(X0),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]]

ident(lock) ==> ident(vb_lock)

record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X1)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],ident(dev)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],ident(dev)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],ident(dev)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[meta(X0)],ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X1)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X2)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]

record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)] ==> record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(vb_lock)]

record_acc[exp[meta(X0)],ident(lock)] ==> record_acc[exp[meta(X0)],ident(vb_lock)]

record_acc[meta(X0),ident(lock)] ==> record_acc[meta(X0),ident(vb_lock)]

exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X0)],meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],meta(X1)],meta(X2)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X2)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),meta(X1)],meta(X2)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X2)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[meta(X0),ident(dev)],meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)]] ==> exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(vb_lock)]]

exp[record_acc[exp[meta(X0)],ident(lock)]] ==> exp[record_acc[exp[meta(X0)],ident(vb_lock)]]

exp[record_acc[meta(X0),ident(lock)]] ==> exp[record_acc[meta(X0),ident(vb_lock)]]

&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],meta(X1)]]] ==> &ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(lock)]]] ==> &ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X0)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],meta(X2)]]] ==> &ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],meta(X2)]]] ==> &ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)]]] ==> &ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],meta(X1)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(lock)]]] ==> &ref[exp[record_acc[exp[record_ptr[meta(X0),meta(X1)]],ident(vb_lock)]]]

&ref[exp[record_acc[exp[meta(X0)],meta(X1)]]] ==> &ref[exp[record_acc[exp[meta(X0)],ident(vb_lock)]]]

&ref[exp[record_acc[exp[meta(X0)],ident(lock)]]] ==> &ref[exp[record_acc[exp[meta(X0)],ident(vb_lock)]]]

&ref[exp[record_acc[meta(X0),meta(X1)]]] ==> &ref[exp[record_acc[meta(X0),ident(vb_lock)]]]

&ref[exp[record_acc[meta(X0),ident(lock)]]] ==> &ref[exp[record_acc[meta(X0),ident(vb_lock)]]]

exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X0)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[exp[meta(X0)],meta(X1)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[exp[meta(X0)],meta(X1)]]]] ==> exp[&ref[exp[record_acc[exp[meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[exp[meta(X0)],ident(lock)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[exp[meta(X0)],ident(lock)]]]] ==> exp[&ref[exp[record_acc[exp[meta(X0)],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[meta(X0),meta(X1)]]]] ==> exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]

exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]] ==> exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]

exp[&ref[exp[record_acc[meta(X0),ident(lock)]]]] ==> exp[&ref[exp[record_acc[meta(X0),ident(vb_lock)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],meta(X1)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),meta(X2)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]

call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(lock)]]]]] ==> call[meta(X0),exp[&ref[exp[record_acc[meta(X1),ident(vb_lock)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]

![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> ![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[exp[meta(X0)],exp[&ref[meta(X1)]]]]] ==> ![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[exp[meta(X0)],exp[meta(X1)]]]] ==> ![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[exp[meta(X0)],meta(X1)]]] ==> ![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]] ==> ![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[meta(X0),exp[&ref[meta(X1)]]]]] ==> ![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[meta(X0),exp[meta(X1)]]]] ==> ![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

![exp[call[meta(X0),meta(X1)]]] ==> ![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]

exp[![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> exp[![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

exp[![exp[call[exp[meta(X0)],exp[meta(X1)]]]]] ==> exp[![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

exp[![exp[call[exp[meta(X0)],meta(X1)]]]] ==> exp[![exp[call[exp[meta(X0)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]] ==> exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

exp[![exp[call[meta(X0),exp[meta(X1)]]]]] ==> exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

exp[![exp[call[meta(X0),meta(X1)]]]] ==> exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],meta(X1)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],meta(X1)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],meta(X1)]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[meta(X1)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[meta(X1)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[meta(X1)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),meta(X1)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),meta(X1)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),meta(X1)]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],stmt[meta(X1)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],meta(X2)]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[meta(X2)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],meta(X1),stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[exp[ident(mutex_trylock)],meta(X0)]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),meta(X2)]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[meta(X2)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],meta(X2)]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X1)],meta(X2)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X1)],meta(X2)]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[meta(X2)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[meta(X2)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[meta(X2)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),meta(X2)]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X1),meta(X2)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X1),meta(X2)]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[meta(X3)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[meta(X3)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[meta(X3)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[meta(X3)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[meta(X3)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[meta(X3)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],stmt[exprstmt(none)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],meta(X3)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],meta(X3)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],meta(X3)]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],meta(X3)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],stmt[meta(X2)],meta(X3)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X2)],meta(X3)]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[meta(X3)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[meta(X3)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[meta(X3)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[meta(X3)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[meta(X3)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[meta(X3)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[exprstmt(none)]] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),stmt[exprstmt(none)]] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),meta(X3)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),meta(X3)] ==> if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),meta(X3)]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),meta(X3)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),stmt[exprstmt(none)]]

if[exp[![exp[call[meta(X0),meta(X1)]]]],meta(X2),meta(X3)] ==> if[exp[![exp[call[meta(X0),exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X2),meta(X3)]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[meta(X1)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],meta(X1)]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[meta(X0)],meta(X1)]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[meta(X0)],meta(X1)]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[meta(X1)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[meta(X1)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[meta(X1)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),meta(X1)]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),stmt[exprstmt(none)]]]

stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],meta(X0),meta(X1)]] ==> stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],meta(X0),meta(X1)]]

comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]] ==> comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]]

def[fname(ts_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]]] ==> def[fname(ts_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]]]

prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(kernel.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(delay.h)],includeL[inc_elem(saa7134-reg.h)],includeL[inc_elem(saa7134.h)],includeN[inc_elem(media),inc_elem(saa6752hs.h)],includeN[inc_elem(media),inc_elem(v4l2-common.h)],mtop(N/H),mtop(N/H),decl(N/H),mtop(N/H),mtop(N/H),decl(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(ts_reset_encoder),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_SPECIAL_MODE)],exp[const[int(0x00)]]]]]],stmt[exprstmt[exp[call[exp[ident(msleep)],exp[const[int(10)]]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_SPECIAL_MODE)],exp[const[int(0x01)]]]]]],stmt[exprstmt[exp[call[exp[ident(msleep)],exp[const[int(100)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]],exp[const[int(0)]]]]]]]]],def[fname(ts_init_encoder),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ctrls),iniList[ini[exp[ident(V4L2_CTRL_CLASS_MPEG)]],ini[exp[const[int(0)]]]],fulltype[struct(v4l2_ext_controls)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_EXT_CTRLS)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_ext_controls)]],ident(ctrls)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]],exp[const[int(1)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(ts_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]]],def[fname(ts_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],NCP(N/H),def[fname(ts_poll),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[struct(poll_table_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_poll_stream)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(poll_table_struct)]]]],ident(wait)]]]]]]]],def[fname(ts_mmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_mmap_mapper)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]]],def[fname(empress_querycap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(cap),fulltype[pointer[fulltype[struct(v4l2_capability)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(driver)]],exp[const[string(saa7134)]]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(card)]],exp[record_acc[exp[array_acc[exp[ident(saa7134_boards)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(board)]]]],ident(name)]],exp[sizeof[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(card)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(bus_info)]],exp[const[string(PCI:%s)]],exp[call[exp[ident(pci_name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(version)]],exp[ident(SAA7134_VERSION_CODE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(capabilities)]],exp[binary_arith[aop(|),exp[binary_arith[aop(|),exp[ident(V4L2_CAP_VIDEO_CAPTURE)],exp[ident(V4L2_CAP_READWRITE)]]],exp[ident(V4L2_CAP_STREAMING)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_enum_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[pointer[fulltype[struct(v4l2_input)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(index)]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(type)]],exp[ident(V4L2_INPUT_TYPE_CAMERA)]]]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(name)]],exp[const[string(CCIR656)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(i)]]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_s_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[btype[itype[sgn(unsigned),base(int)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_enum_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(index)]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(description)]],exp[const[string(MPEG TS)]],exp[sizeof[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(description)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_format)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_G_FMT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(sizeimage)]],exp[binary_arith[aop(*),exp[ident(TS_PACKET_SIZE)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(ts)]],ident(nr_packets)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_s_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_format)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_FMT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(sizeimage)]],exp[binary_arith[aop(*),exp[ident(TS_PACKET_SIZE)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(ts)]],ident(nr_packets)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(p),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_reqbufs)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(p)]]]]]]]],def[fname(empress_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_querybuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]],def[fname(empress_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_qbuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]],def[fname(empress_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_dqbuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(f_flags)]],exp[ident(O_NONBLOCK)]]]]]]]]]],def[fname(empress_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_streamon)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]]]]],def[fname(empress_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_streamoff)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]]]]],def[fname(empress_s_ext_ctrls),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ctrls),fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(count)]],exp[const[int(0)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(ctrl_class)]],exp[ident(V4L2_CTRL_CLASS_MPEG)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_EXT_CTRLS)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_init_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_ext_ctrls),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ctrls),fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(ctrl_class)]],exp[ident(V4L2_CTRL_CLASS_MPEG)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_G_EXT_CTRLS)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),decl(N/H),def[fname(empress_signal_update),funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(work_struct)]]]],ident(work)],argtype(N/H),exp[ident(empress_workqueue)]]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(nosignal)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(no video signal\n)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(video signal acquired\n)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_init_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt(none)]]]]]]]]]],def[fname(empress_signal_change),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(schedule_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]]]]]]]]],def[fname(empress_init),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(%s: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[ident(__FUNCTION__)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[call[exp[ident(video_device_alloc)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],exp[TYPEDEXP[fulltype[struct(video_device)]],ident(saa7134_empress_template)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(dev)]],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(release)]],exp[ident(video_device_release)]]]]],stmt[exprstmt[exp[call[exp[ident(snprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(name)]],exp[sizeof[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(name)]]]],exp[const[string(%s empress (%s))]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[record_acc[exp[array_acc[exp[ident(saa7134_boards)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(board)]]]],ident(name)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_WORK)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(empress_signal_update)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[ident(video_register_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[ident(VFL_TYPE_GRABBER)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(empress_nr)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(nr)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]]]]]],stmt[exprstmt[exp[call[exp[ident(video_device_release)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[binary_arith[aop(&),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[const[int(0x1f)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_queue_pci_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[&ref[exp[ident(saa7134_ts_qops)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(slock)]]]],exp[ident(V4L2_BUF_TYPE_VIDEO_CAPTURE)],exp[ident(V4L2_FIELD_ALTERNATE)],exp[sizeoftype[fulltype[struct(saa7134_buf)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(empress_signal_update)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_fini),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(%s: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[ident(__FUNCTION__)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(flush_scheduled_work)]]]]],stmt[exprstmt[exp[call[exp[ident(video_unregister_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),NCP(N/H),NCP(N/H),mtop(N/H),mtop(N/H)] ==> prg2[includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(kernel.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(delay.h)],includeL[inc_elem(saa7134-reg.h)],includeL[inc_elem(saa7134.h)],includeN[inc_elem(media),inc_elem(saa6752hs.h)],includeN[inc_elem(media),inc_elem(v4l2-common.h)],mtop(N/H),mtop(N/H),decl(N/H),mtop(N/H),mtop(N/H),decl(N/H),mtop(N/H),mtop(N/H),NCP(N/H),def[fname(ts_reset_encoder),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_SPECIAL_MODE)],exp[const[int(0x00)]]]]]],stmt[exprstmt[exp[call[exp[ident(msleep)],exp[const[int(10)]]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_SPECIAL_MODE)],exp[const[int(0x01)]]]]]],stmt[exprstmt[exp[call[exp[ident(msleep)],exp[const[int(100)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]],exp[const[int(0)]]]]]]]]],def[fname(ts_init_encoder),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(ctrls),iniList[ini[exp[ident(V4L2_CTRL_CLASS_MPEG)]],ini[exp[const[int(0)]]]],fulltype[struct(v4l2_ext_controls)],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_EXT_CTRLS)],exp[&ref[exp[TYPEDEXP[fulltype[struct(v4l2_ext_controls)]],ident(ctrls)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_started)]],exp[const[int(1)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(ts_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),ini[exp[call[exp[ident(iminor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)]]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[binary_logi[logiop(==),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[goto(found)],stmt[exprstmt(none)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[labeled[lname(found),stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(open minor=%d\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[if[exp[![exp[call[exp[ident(mutex_trylock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[goto(done)],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[goto(done_up)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(&),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[~[exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]]]],stmt[exprstmt[exp[postfix[++[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]]]],stmt[labeled[lname(done_up),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]]]],stmt[labeled[lname(done),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]]]]],def[fname(ts_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_stop)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_mmap_free)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]],stmt[exprstmt[exp[postfix[--[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(saa_writeb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)],exp[binary_arith[aop(|),exp[call[exp[ident(saa_readb)],exp[ident(SAA7134_AUDIO_MUTE_CTRL)]]],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[const[int(6)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]],ident(vb_lock)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],NCP(N/H),def[fname(ts_poll),funtype[fulltype[btype[itype[sgn(unsigned),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(wait),fulltype[pointer[fulltype[struct(poll_table_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_poll_stream)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(poll_table_struct)]]]],ident(wait)]]]]]]]],def[fname(ts_mmap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(vma),fulltype[pointer[fulltype[struct(vm_area_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(private_data)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_mmap_mapper)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(vm_area_struct)]]]],ident(vma)]]]]]]]],def[fname(empress_querycap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(cap),fulltype[pointer[fulltype[struct(v4l2_capability)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(driver)]],exp[const[string(saa7134)]]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(card)]],exp[record_acc[exp[array_acc[exp[ident(saa7134_boards)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(board)]]]],ident(name)]],exp[sizeof[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(card)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(bus_info)]],exp[const[string(PCI:%s)]],exp[call[exp[ident(pci_name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(version)]],exp[ident(SAA7134_VERSION_CODE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_capability)]]]],ident(cap)],ident(capabilities)]],exp[binary_arith[aop(|),exp[binary_arith[aop(|),exp[ident(V4L2_CAP_VIDEO_CAPTURE)],exp[ident(V4L2_CAP_READWRITE)]]],exp[ident(V4L2_CAP_STREAMING)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_enum_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[pointer[fulltype[struct(v4l2_input)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(index)]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(type)]],exp[ident(V4L2_INPUT_TYPE_CAMERA)]]]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_input)]]]],ident(i)],ident(name)]],exp[const[string(CCIR656)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(i)]]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_s_input),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(i),fulltype[btype[itype[sgn(unsigned),base(int)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(int)]]]],ident(i)],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_enum_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(index)]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(description)]],exp[const[string(MPEG TS)]],exp[sizeof[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(description)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_fmtdesc)]]]],ident(f)],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_format)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_G_FMT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(sizeimage)]],exp[binary_arith[aop(*),exp[ident(TS_PACKET_SIZE)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(ts)]],ident(nr_packets)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_s_fmt_cap),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(f),fulltype[pointer[fulltype[struct(v4l2_format)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_FMT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(pixelformat)]],exp[ident(V4L2_PIX_FMT_MPEG)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_format)]]]],ident(f)],ident(fmt)]],ident(pix)]],ident(sizeimage)]],exp[binary_arith[aop(*),exp[ident(TS_PACKET_SIZE)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(ts)]],ident(nr_packets)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_reqbufs),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(p),fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_reqbufs)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_requestbuffers)]]]],ident(p)]]]]]]]],def[fname(empress_querybuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_querybuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]],def[fname(empress_qbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_qbuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)]]]]]]]],def[fname(empress_dqbuf),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(b),fulltype[pointer[fulltype[struct(v4l2_buffer)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_dqbuf)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_buffer)]]]],ident(b)],exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(file)]]]],ident(file)],ident(f_flags)]],exp[ident(O_NONBLOCK)]]]]]]]]]],def[fname(empress_streamon),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_streamon)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]]]]],def[fname(empress_streamoff),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(type),fulltype[enumname(v4l2_buf_type)]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[return[exp[call[exp[ident(videobuf_streamoff)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]]]]]]]]],def[fname(empress_s_ext_ctrls),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ctrls),fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(count)]],exp[const[int(0)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(ctrl_class)]],exp[ident(V4L2_CTRL_CLASS_MPEG)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_S_EXT_CTRLS)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_init_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_g_ext_ctrls),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(file),fulltype[pointer[fulltype[struct(file)]]]],param[reg(),name(priv),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ctrls),fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fh),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(priv)]],fulltype[pointer[fulltype[struct(saa7134_fh)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev),ini[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_fh)]]]],ident(fh)],ident(dev)]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)],ident(ctrl_class)]],exp[ident(V4L2_CTRL_CLASS_MPEG)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(saa7134_i2c_call_clients)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],exp[ident(VIDIOC_G_EXT_CTRLS)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(v4l2_ext_controls)]]]],ident(ctrls)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),decl(N/H),def[fname(empress_signal_update),funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev),ini[exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(work_struct)]]]],ident(work)],argtype(N/H),exp[ident(empress_workqueue)]]]],fulltype[pointer[fulltype[struct(saa7134_dev)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(nosignal)]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(no video signal\n)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_reset_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(video signal acquired\n)]]]]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_users)]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]]]],ident(ts_init_encoder)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt(none)]]]]]]]]]],def[fname(empress_signal_change),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(schedule_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]]]]]]]]],def[fname(empress_init),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(err),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(%s: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[ident(__FUNCTION__)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[call[exp[ident(video_device_alloc)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],exp[TYPEDEXP[fulltype[struct(video_device)]],ident(saa7134_empress_template)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(dev)]],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(release)]],exp[ident(video_device_release)]]]]],stmt[exprstmt[exp[call[exp[ident(snprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(name)]],exp[sizeof[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(name)]]]],exp[const[string(%s empress (%s))]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[record_acc[exp[array_acc[exp[ident(saa7134_boards)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(board)]]]],ident(name)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_WORK)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(empress_signal_update)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[call[exp[ident(video_register_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[ident(VFL_TYPE_GRABBER)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(empress_nr)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(nr)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]]]]]],stmt[exprstmt[exp[call[exp[ident(video_device_release)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(err)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(printk)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[binary_arith[aop(&),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],ident(minor)]],exp[const[int(0x1f)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(videobuf_queue_pci_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_tsq)]]]],exp[&ref[exp[ident(saa7134_ts_qops)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(pci)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(slock)]]]],exp[ident(V4L2_BUF_TYPE_VIDEO_CAPTURE)],exp[ident(V4L2_FIELD_ALTERNATE)],exp[sizeoftype[fulltype[struct(saa7134_buf)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(empress_signal_update)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_workqueue)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(empress_fini),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(saa7134_dev)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(dprintk)],exp[const[string(%s: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(name)]],exp[ident(__FUNCTION__)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(flush_scheduled_work)]]]]],stmt[exprstmt[exp[call[exp[ident(video_unregister_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(saa7134_dev)]]]],ident(dev)],ident(empress_dev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[return[exp[const[int(0)]]]]]]],decl(N/H),NCP(N/H),NCP(N/H),mtop(N/H),mtop(N/H)]

 ++ 
}}}
[Main] filtering all safe patches.
[Main] filter_all
Raw list of simple updates
{{{
ident(lock) ==> ident(vb_lock)
 ++ 
}}}
[Main] generating solutions...
[Main] solution #1
{{{
	ident(lock) ==> ident(vb_lock)
}}}
