Spec. file is: specfile
Parsed two: extmem.c.orig, extmem.c.new
Parsed two: dcssblk.c.orig, dcssblk.c.new
Parsed two: raw3270.c.orig, raw3270.c.new
Parsed two: tape_core.c.orig, tape_core.c.new
Parsed two: netiucv.c.orig, netiucv.c.new
Parsed two: smsgiucv.c.orig, smsgiucv.c.new
Reading file pair smsgiucv.c.orig smsgiucv.c.new
Reading file pair netiucv.c.orig netiucv.c.new
Reading file pair tape_core.c.orig tape_core.c.new
Reading file pair raw3270.c.orig raw3270.c.new
Reading file pair dcssblk.c.orig dcssblk.c.new
Reading file pair extmem.c.orig extmem.c.new
fulltype[pointer[fulltype[btype[itype(char)]]]] pointer[fulltype[btype[itype(char)]]] fulltype[btype[itype(char)]] btype[itype(char)] itype(char) reg() fulltype[btype(void)] btype(void) fulltype[btype[itype[sgn(signed),base(int)]]] btype[itype[sgn(signed),base(int)]] itype[sgn(signed),base(int)] base(int) sgn(signed) storage[stobis(static),inline(no)] inline(no) stobis(static) exp[ident(kfree)] ident(kfree) stmt[exprstmt(none)] exprstmt(none) stmt[jump(break)] jump(break) simple_assi(=) exp[const[int(0)]] const[int(0)] int(0) TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]] logiop(==) logiop(&&) exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)] ident(NULL) TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]] fulltype[pointer[fulltype[btype(void)]]] pointer[fulltype[btype(void)]] storage[stobis(nosto),inline(no)] stobis(nosto) TYPEDEXP[fulltype[struct(list_head)]] fulltype[struct(list_head)] struct(list_head) exp[-[exp[ident(ENOMEM)]]] -[exp[ident(ENOMEM)]] exp[ident(ENOMEM)] ident(ENOMEM) exp[ident(GFP_KERNEL)] ident(GFP_KERNEL) sgn(unsigned) exp[const[int(8)]] const[int(8)] int(8) aop(+) TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]] logiop(!=) exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)] ident(rc) aop(|) exp[const[int(1)]] const[int(1)] int(1) onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]] fullType(unknown) exp[ident(LIST_HEAD_INIT)] ident(LIST_HEAD_INIT) inc_elem(asm) inc_elem(linux) includeN[inc_elem(linux),inc_elem(module.h)] inc_elem(module.h) 
[Main] Constructing all safe parts for 6 term pairs
[Main] Making safe parts for pair 1
[Main] terms that changed: 
[Main] Making safe parts for pair 2
[Main] terms that changed: 
[Main] Making safe parts for pair 3
[Main] terms that changed: 
[Main] Making safe parts for pair 4
[Main] terms that changed: 
[Main] Making safe parts for pair 5
[Main] terms that changed: 
[Main] Making safe parts for pair 6
[Main] terms that changed: 
Those were the safe parts
{{{
&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[meta(X2)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[meta(X2)]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],meta(X2)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],meta(X2)] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[meta(X2)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[meta(X2)]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],meta(X2)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],meta(X2)] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),meta(X1),exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]

call[meta(X0),meta(X1),exp[&ref[meta(X2)]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(smsg_list)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(smsg_list)]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X1),exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(smsg_list)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]]

comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]] ==> comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]

def[fname(smsg_register_callback),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]] ==> def[fname(smsg_register_callback),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[meta(X3),meta(X4)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[meta(X3),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],meta(X3)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[meta(X3),meta(X4)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[meta(X3),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),meta(X3)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(errno.h)],includeN[inc_elem(linux),inc_elem(device.h)],includeN[inc_elem(net),inc_elem(iucv),inc_elem(iucv.h)],includeN[inc_elem(asm),inc_elem(cpcmd.h)],includeN[inc_elem(asm),inc_elem(ebcdic.h)],includeL[inc_elem(smsgiucv.h)],dlist[onedecl(())],macrotop[MODULE_AUTHOR[exp[const[string((C) 2003 IBM Corporation by Martin Schwidefsky (schwidefsky@de.ibm.com))]]]],macrotop[MODULE_DESCRIPTION[exp[const[string(Linux for S/390 IUCV special message driver)]]]],dlist[onedecl[ident(smsg_path),fulltype[pointer[fulltype[struct(iucv_path)]]],storage[stobis(static),inline(no)]]],mdecl[DEFINE_SPINLOCK[exp[ident(smsg_list_lock)]]],dlist[onedecl_ini[ident(smsg_list),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(smsg_path_pending),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(smsg_message_pending),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_message)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(smsg_handler),iniList[inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]]]],ident(smsg_path_pending)]],dfield(path_pending)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_message)]]]]]]],ident(smsg_message_pending)]],dfield(message_pending)]],fulltype[struct(iucv_handler)],storage[stobis(static),inline(no)]]],def[fname(smsg_path_pending),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(path),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(strncmp)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],ident(ipvmid)],exp[const[string(*MSG    )]],exp[sizeof[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],ident(ipvmid)]]]]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[call[exp[ident(iucv_path_accept)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[&ref[exp[TYPEDEXP[fulltype[struct(iucv_handler)]],ident(smsg_handler)]]],exp[const[string(SMSGIUCV        )]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]],def[fname(smsg_message_pending),funtype[fulltype[btype(void)],param[reg(),name(path),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(msg),fulltype[pointer[fulltype[struct(iucv_message)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(buffer),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(sender),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]],exp[const[int(1)]]]],exp[binary_arith[aop(|),exp[ident(GFP_ATOMIC)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(iucv_message_reject)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(iucv_message_receive)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],exp[const[int(0)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[const[int(8)]]]],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(7)]]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[postfix[--[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char( )]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\t)]]]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(strncmp)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)]]]]]]]],def[fname(smsg_register_callback),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(smsg_unregister_callback),funtype[fulltype[btype(void)],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(tmp),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]],exp[binary_logi[logiop(==),exp[call[exp[ident(strcmp)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]],exp[const[int(0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]]]]]]],dlist[onedecl_ini[ident(smsg_driver),iniList[inidesignators[ini[exp[const[string(SMSGIUCV)]]],dfield(name)],inidesignators[ini[exp[&ref[exp[ident(iucv_bus)]]]],dfield(bus)]],fulltype[struct(device_driver)],storage[stobis(static),inline(no)]]],NCP(N/H),NCP(N/H),macrotop[module_init[exp[ident(smsg_init)]]],macrotop[module_exit[exp[ident(smsg_exit)]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]]]],ident(smsg_register_callback)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]]]],ident(smsg_unregister_callback)]]]] ==> prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(errno.h)],includeN[inc_elem(linux),inc_elem(device.h)],includeN[inc_elem(net),inc_elem(iucv),inc_elem(iucv.h)],includeN[inc_elem(asm),inc_elem(cpcmd.h)],includeN[inc_elem(asm),inc_elem(ebcdic.h)],includeL[inc_elem(smsgiucv.h)],dlist[onedecl(())],macrotop[MODULE_AUTHOR[exp[const[string((C) 2003 IBM Corporation by Martin Schwidefsky (schwidefsky@de.ibm.com))]]]],macrotop[MODULE_DESCRIPTION[exp[const[string(Linux for S/390 IUCV special message driver)]]]],dlist[onedecl[ident(smsg_path),fulltype[pointer[fulltype[struct(iucv_path)]]],storage[stobis(static),inline(no)]]],mdecl[DEFINE_SPINLOCK[exp[ident(smsg_list_lock)]]],mdecl[LIST_HEAD[exp[ident(smsg_list)]]],dlist[onedecl[ident(smsg_path_pending),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(smsg_message_pending),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_message)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(smsg_handler),iniList[inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]]]],ident(smsg_path_pending)]],dfield(path_pending)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(iucv_message)]]]]]]],ident(smsg_message_pending)]],dfield(message_pending)]],fulltype[struct(iucv_handler)],storage[stobis(static),inline(no)]]],def[fname(smsg_path_pending),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(path),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(ipvmid),fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],param[reg(),name(ipuser),fulltype[array[constExp[exp[const[int(16)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(strncmp)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],ident(ipvmid)],exp[const[string(*MSG    )]],exp[sizeof[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(8)]]],fulltype[typeName[ident(u8),fullType(unknown)]]]]],ident(ipvmid)]]]]],exp[const[int(0)]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[call[exp[ident(iucv_path_accept)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[&ref[exp[TYPEDEXP[fulltype[struct(iucv_handler)]],ident(smsg_handler)]]],exp[const[string(SMSGIUCV        )]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]],def[fname(smsg_message_pending),funtype[fulltype[btype(void)],param[reg(),name(path),fulltype[pointer[fulltype[struct(iucv_path)]]]],param[reg(),name(msg),fulltype[pointer[fulltype[struct(iucv_message)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(buffer),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(sender),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]],exp[const[int(1)]]]],exp[binary_arith[aop(|),exp[ident(GFP_ATOMIC)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(iucv_message_reject)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(iucv_message_receive)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_path)]]]],ident(path)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],exp[const[int(0)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_message)]]]],ident(msg)],ident(length)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[const[int(8)]]]],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(7)]]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[postfix[--[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char( )]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\t)]]]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(strncmp)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(sender)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)],exp[const[int(8)]]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(char2)]]]]]],ident(buffer)]]]]]]]],def[fname(smsg_register_callback),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(smsg_callback)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(len)]],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]],exp[&ref[exp[ident(smsg_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(smsg_unregister_callback),funtype[fulltype[btype(void)],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(cb),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(tmp),fulltype[pointer[fulltype[struct(smsg_callback)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]],ident(callback)]]],exp[binary_logi[logiop(==),exp[call[exp[ident(strcmp)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)],ident(prefix)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(prefix)]]],exp[const[int(0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(tmp)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)],ident(list)]]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_bh)],exp[&ref[exp[ident(smsg_list_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(smsg_callback)]]]],ident(cb)]]]]]]]],dlist[onedecl_ini[ident(smsg_driver),iniList[inidesignators[ini[exp[const[string(SMSGIUCV)]]],dfield(name)],inidesignators[ini[exp[&ref[exp[ident(iucv_bus)]]]],dfield(bus)]],fulltype[struct(device_driver)],storage[stobis(static),inline(no)]]],NCP(N/H),NCP(N/H),macrotop[module_init[exp[ident(smsg_init)]]],macrotop[module_exit[exp[ident(smsg_exit)]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]]]],ident(smsg_register_callback)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(prefix),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(callback),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(from),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(str),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]]]]]]]],ident(smsg_unregister_callback)]]]]

 ++ 
&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(iucv_connection_list)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]]

comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]] ==> comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]

def[fname(netiucv_new_connection),funtype[fulltype[pointer[fulltype[struct(iucv_connection)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(net_device)]]]],param[reg(),name(username),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]] ==> def[fname(netiucv_new_connection),funtype[fulltype[pointer[fulltype[struct(iucv_connection)]]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(net_device)]]]],param[reg(),name(username),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(conn),fulltype[pointer[fulltype[struct(iucv_connection)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],exp[call[exp[ident(kzalloc)],exp[sizeof[exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(skb_queue_head_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(commit_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(collect_lock)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[ident(NETIUCV_BUFSIZE_DEFAULT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(netdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(net_device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]],stmt[goto(out_conn)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]],exp[call[exp[ident(alloc_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(max_buffsize)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]],stmt[goto(out_rx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[call[exp[ident(init_fsm)],exp[const[string(netiucvconn)]],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_state_names)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(conn_event_names)],exp[ident(NR_CONN_STATES)],exp[ident(NR_CONN_EVENTS)],exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[tqual(const),typeName[ident(fsm_node),fullType(unknown)]]]]],ident(conn_fsm)],exp[TYPEDEXP[fulltype[tqual(const),btype[itype[sgn(signed),base(int)]]]],ident(CONN_FSM_LEN)],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]]]],stmt[goto(out_tx)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(fsm_settimer)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(timer)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_INVALID)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(userid)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(username)],exp[const[int(9)]]]]]],stmt[exprstmt[exp[call[exp[ident(fsm_newstate)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(fsm)]],exp[ident(CONN_STATE_STOPPED)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(write_lock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(list)]]]],exp[&ref[exp[ident(iucv_connection_list)]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock_bh)],exp[&ref[exp[ident(iucv_connection_rwlock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]],stmt[labeled[lname(out_tx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(tx_buff)]]]]]]]],stmt[labeled[lname(out_rx),stmt[exprstmt[exp[call[exp[ident(kfree_skb)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)],ident(rx_buff)]]]]]]]],stmt[labeled[lname(out_conn),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(iucv_connection)]]]],ident(conn)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(iucv_connection_list)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

 ++ 
dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(kmod.h)],includeN[inc_elem(linux),inc_elem(spinlock.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(asm),inc_elem(types.h)],define(N/H),includeL[inc_elem(tape.h)],includeL[inc_elem(tape_std.h)],define(N/H),define(N/H),dlist[onedecl[ident(__tape_do_irq),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(irb)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(tape_delayed_next_request),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(work_struct)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(tape_long_busy_timeout),fulltype[funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(tape_device_list),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(tape_device_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]],mdecl[DEFINE_RWLOCK[exp[ident(tape_device_lock)]]],dlist[onedecl_ini[ident(TAPE_DBF_AREA),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]],storage[stobis(nosto),inline(no)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)]]],dlist[onedecl_ini[ident(tape_state_verbose),iniList[inidesignators[ini[exp[const[string(UNUSED)]]],dindex[exp[ident(TS_UNUSED)]]],inidesignators[ini[exp[const[string(IN_USE)]]],dindex[exp[ident(TS_IN_USE)]]],inidesignators[ini[exp[const[string(BLKUSE)]]],dindex[exp[ident(TS_BLKUSE)]]],inidesignators[ini[exp[const[string(INIT  )]]],dindex[exp[ident(TS_INIT)]]],inidesignators[ini[exp[const[string(NOT_OP)]]],dindex[exp[ident(TS_NOT_OPER)]]]],fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]],storage[stobis(nosto),inline(no)]]],dlist[onedecl_ini[ident(tape_op_verbose),iniList[inidesignators[ini[exp[const[string(BLK)]]],dindex[exp[ident(TO_BLOCK)]]],inidesignators[ini[exp[const[string(BSB)]]],dindex[exp[ident(TO_BSB)]]],inidesignators[ini[exp[const[string(BSF)]]],dindex[exp[ident(TO_BSF)]]],inidesignators[ini[exp[const[string(DSE)]]],dindex[exp[ident(TO_DSE)]]],inidesignators[ini[exp[const[string(FSB)]]],dindex[exp[ident(TO_FSB)]]],inidesignators[ini[exp[const[string(FSF)]]],dindex[exp[ident(TO_FSF)]]],inidesignators[ini[exp[const[string(LBL)]]],dindex[exp[ident(TO_LBL)]]],inidesignators[ini[exp[const[string(NOP)]]],dindex[exp[ident(TO_NOP)]]],inidesignators[ini[exp[const[string(RBA)]]],dindex[exp[ident(TO_RBA)]]],inidesignators[ini[exp[const[string(RBI)]]],dindex[exp[ident(TO_RBI)]]],inidesignators[ini[exp[const[string(RFO)]]],dindex[exp[ident(TO_RFO)]]],inidesignators[ini[exp[const[string(REW)]]],dindex[exp[ident(TO_REW)]]],inidesignators[ini[exp[const[string(RUN)]]],dindex[exp[ident(TO_RUN)]]],inidesignators[ini[exp[const[string(WRI)]]],dindex[exp[ident(TO_WRI)]]],inidesignators[ini[exp[const[string(WTM)]]],dindex[exp[ident(TO_WTM)]]],inidesignators[ini[exp[const[string(MSN)]]],dindex[exp[ident(TO_MSEN)]]],inidesignators[ini[exp[const[string(LOA)]]],dindex[exp[ident(TO_LOAD)]]],inidesignators[ini[exp[const[string(RCF)]]],dindex[exp[ident(TO_READ_CONFIG)]]],inidesignators[ini[exp[const[string(RAT)]]],dindex[exp[ident(TO_READ_ATTMSG)]]],inidesignators[ini[exp[const[string(DIS)]]],dindex[exp[ident(TO_DIS)]]],inidesignators[ini[exp[const[string(ASS)]]],dindex[exp[ident(TO_ASSIGN)]]],inidesignators[ini[exp[const[string(UAS)]]],dindex[exp[ident(TO_UNASSIGN)]]],inidesignators[ini[exp[const[string(CON)]]],dindex[exp[ident(TO_CRYPT_ON)]]],inidesignators[ini[exp[const[string(COF)]]],dindex[exp[ident(TO_CRYPT_OFF)]]],inidesignators[ini[exp[const[string(KLS)]]],dindex[exp[ident(TO_KEKL_SET)]]],inidesignators[ini[exp[const[string(KLQ)]]],dindex[exp[ident(TO_KEKL_QUERY)]]],inidesignators[ini[exp[const[string(RDC)]]],dindex[exp[ident(TO_RDC)]]]],fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]],storage[stobis(nosto),inline(no)]]],def[fname(busid_to_int),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bus_id),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dec),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(d),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(s),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(bus_id)]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(0)]]]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(.)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(10)]]]],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]],stmt[for[exp[,seq[exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(0)]]]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(.)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(10)]]]],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[binary_arith[aop(+),exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[const[int(8)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]]]],stmt[for[exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]],exp[binary_logi[logiop(<=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(9)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(a)]]]],exp[binary_logi[logiop(<=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(f)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(a)]]]],exp[const[int(10)]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(A)]]]],exp[const[int(10)]]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[binary_arith[aop(+),exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[const[int(4)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)]]]]]],def[fname(tape_medium_state_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(medium_state)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(medium_state)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_medium_state_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_first_minor_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(first_minor)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_first_minor_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_state_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%s\n)]],exp[cond3[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]],exp[const[int(0)]]]],exp[const[string(OFFLINE)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(tape_state)]]]]]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(state)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_state_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_operation_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[typeName[ident(ssize_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]],exp[const[int(0)]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(N/A\n)]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(cdev)]]]]]]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(req_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)],exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(---\n)]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)],exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%s\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],ident(op)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)]]]]]],mdecl[DEVICE_ATTR[exp[ident(operation)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_operation_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_blocksize_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(char_data)]],ident(block_size)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(blocksize)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_blocksize_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],dlist[onedecl_ini[ident(tape_attrs),iniList[ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_medium_state)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_first_minor)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_state)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_operation)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_blocksize)],ident(attr)]]]]],ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],fulltype[array[constExp(none),fulltype[pointer[fulltype[struct(attribute)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(tape_attr_group),iniList[inidesignators[ini[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[struct(attribute)]]]]]],ident(tape_attrs)]],dfield(attrs)]],fulltype[struct(attribute_group)],storage[stobis(static),inline(no)]]],def[fname(tape_state_set),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]],stmt[comp{}[stmt[dlist[onedecl[ident(str),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(ts_set err: not oper\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(ts. dev:	%x\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(old ts:\t\n)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_SIZE)]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[const[string(UNKNOWN TS)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(%s\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(new ts:\t\n)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)],exp[ident(TS_SIZE)]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[const[string(UNKNOWN TS)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(%s\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]]]]],def[fname(tape_med_state_set),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[switch[exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)],stmt[comp{}[stmt[case[exp[ident(MS_UNLOADED)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_DR_OPEN)],exp[~[exp[const[int(0)]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string((%s): Tape is unloaded\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(break)],stmt[case[exp[ident(MS_LOADED)],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[~[exp[call[exp[ident(GMT_DR_OPEN)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string((%s): Tape has been mounted\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(break)],stmt[default[stmt[jump(break)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]]]]],def[fname(__tape_cancel_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retries),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)],exp[const[int(5)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(ccw_device_clear)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]]]],stmt[return[exp[const[int(0)]]]],stmt[case[exp[-[exp[ident(EBUSY)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_CANCEL)]]]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[case[exp[-[exp[ident(ENODEV)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(device gone, retry\n)]]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(I/O error, retry\n)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_assign_minor),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(write_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(first_minor)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(TAPE_MINORS_PER_DEV)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(256)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(node)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_remove_minor),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(write_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]]]]],def[fname(tape_generic_online),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(discipline),fulltype[pointer[fulltype[struct(tape_discipline)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_enable_device(%p, %p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string(Tapestate not INIT (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(init_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(function)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(tape_long_busy_timeout)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(owner)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Cannot get module. Module gone.\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(setup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_assign_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_discipline)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(tapechar_setup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_minor)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(tapeblock_setup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_char)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_UNUSED)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): Drive set online\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[labeled[lname(out_char),stmt[exprstmt[exp[call[exp[ident(tapechar_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[labeled[lname(out_discipline),stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(cleanup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[labeled[lname(out_minor),stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_remove_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(owner)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_cleanup_device),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(tapeblock_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(cleanup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_remove_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]]]],ident(tape_med_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(MS_UNKNOWN)]]]]]]]],def[fname(tape_generic_offline),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(tape_generic_offline: no such device\n)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): tape_generic_offline(%p)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],stmt[comp{}[stmt[case[exp[ident(TS_INIT)],stmt[case[exp[ident(TS_NOT_OPER)],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(TS_UNUSED)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_INIT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): Drive set offline.\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_alloc_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(tape_device)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(ti:no mem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]],exp[call[exp[ident(kmalloc)],exp[const[int(1)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(ti:no mem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(can't allocate memory for modeset byte\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[ident(MS_UNKNOWN)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_DELAYED_WORK)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(tape_delayed_next_request)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_get_device_reference),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_get_device_reference(%p) = %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(atomic_inc_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_put_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(remain),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[call[exp[ident(atomic_dec_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_put_device(%p) -> %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)]]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(put device without reference\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(put device without reference\n)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_free_device(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(tape_get_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(devindex),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(tmp),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(read_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[binary_arith[aop(/),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(first_minor)]],exp[ident(TAPE_MINORS_PER_DEV)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(devindex)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(read_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_generic_probe),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_alloc_device)]]]]]]],stmt[if[exp[call[exp[ident(IS_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(ccw_device_set_options)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],exp[ident(CCWDEV_DO_PATHGROUP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[ident(sysfs_create_group)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(kobj)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(attribute_group)]],ident(tape_attr_group)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(probe failed for tape device %s\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(__tape_do_irq)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bus_id),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(busid_to_int)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(tape device %s found\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(__tape_discard_requests),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(n),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_safe[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[-[exp[ident(EIO)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]]]]]]]],def[fname(tape_generic_remove),funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(No device pointer in tape_generic_remove!\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): tape_generic_remove(%p)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],stmt[comp{}[stmt[case[exp[ident(TS_INIT)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]]]],stmt[case[exp[ident(TS_NOT_OPER)],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(TS_UNUSED)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): Drive in use vanished!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(State was %i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_discard_requests)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(sysfs_remove_group)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(kobj)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(attribute_group)]],ident(tape_attr_group)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]]]]]],stmt[exprstmt(none)]]]]]],def[fname(tape_alloc_request),funtype[fulltype[pointer[fulltype[struct(tape_request)]]],param[reg(),name(cplength),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(datasize),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[ident(PAGE_SIZE)]]],exp[binary_logi[logiop(>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[sizeoftype[fulltype[struct(ccw1)]]]]],exp[ident(PAGE_SIZE)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_alloc_request(%d, %d)\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(tape_request)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[sizeoftype[fulltype[struct(ccw1)]]],exp[binary_arith[aop(|),exp[ident(GFP_ATOMIC)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]],exp[call[exp[ident(kzalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(New request %p(%p/%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]],def[fname(tape_free_request),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(Free request %p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]],def[fname(__tape_start_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]],exp[ident(TO_BLOCK)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(check_locate)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(ccw_device_start)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]],exp[const[int(0x00)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(options)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(1)]],exp[const[string(tape: start request failed with RC = %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_start_next_request),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(n),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_start_next_request(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[macroit[list_for_each_safe[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_CANCEL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]]]]]]]],def[fname(tape_delayed_next_request),funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(device),ini[exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(work_struct)]]]],ident(work)],argtype(N/H),exp[record_acc[exp[ident(tape_dnr)],ident(work)]]]]],fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_delayed_next_request(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]],def[fname(tape_long_busy_timeout),funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(%08x: Long busy timeout.\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]],def[fname(__tape_end_request),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_end_request(%p, %p, %i)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt(none)]]]]]],def[fname(tape_dump_sense),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sptr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(-------------------------------------------------\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(DSTAT : %02x  CSTAT: %02x	CPA: %04x\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cpa)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(DEVICE: %s\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(OP	  : %s\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[cast[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Sense data: %08X %08X %08X %08X \n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(0)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(1)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(2)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(3)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Sense data: %08X %08X %08X %08X \n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(4)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(5)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(6)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(7)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(--------------------------------------------------\n)]]]]]]]]],def[fname(tape_dump_sense_dbf),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sptr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(op),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)],exp[const[string(---)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(DSTAT : %02x   CSTAT: %02x\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cstat)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(DEVICE: %08x OP\t: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[cast[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(0)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(2)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(3)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(4)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(5)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(6)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(7)]]]]]]]]]]],def[fname(__tape_start_request),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]],stmt[comp{}[stmt[case[exp[ident(TO_MSEN)],stmt[case[exp[ident(TO_ASSIGN)],stmt[case[exp[ident(TO_UNASSIGN)],stmt[case[exp[ident(TO_READ_ATTMSG)],stmt[case[exp[ident(TO_RDC)],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_UNUSED)]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[default[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_BLKUSE)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(5)]],exp[const[string(Request %p added for execution.\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(5)]],exp[const[string(Request %p add to queue.\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_do_io_async),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_do_io_async(%p, %p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_wake_up),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[cast[fulltype[pointer[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(data)]]]]]]]]]],def[fname(tape_do_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(wq),fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]]]],ident(__tape_wake_up)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(wait_event)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]]]]]]],def[fname(__tape_wake_up_interruptible),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up_interruptible)],exp[cast[fulltype[pointer[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(data)]]]]]]]]]],def[fname(tape_do_io_interruptible),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(wq),fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]]]],ident(__tape_wake_up_interruptible)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(wait_event_interruptible)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[dowhile[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(wait_event_interruptible)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(IO stopped on %08x\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_cancel_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_do_irq),funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[cast[fulltype[pointer[fulltype[struct(tape_request)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(intparm)]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_do_irq(device=%p, request=%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[if[exp[call[exp[ident(IS_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]],stmt[comp{}[stmt[switch[exp[call[exp[ident(PTR_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]],stmt[comp{}[stmt[case[exp[-[exp[ident(ETIMEDOUT)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string((%s): Request timed out\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]]]],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string((%s): Unexpected i/o error %li\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]],exp[call[exp[ident(PTR_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]]]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cc)]],exp[const[int(0)]]]],exp[binary_arith[aop(&),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(fctl)]],exp[ident(SCSW_FCTL_START_FUNC)]]]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): deferred cc=%i, fctl=%i. restarting\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cc)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(fctl)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[ident(HZ)]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rescnt)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x85)]]]],exp[binary_logi[logiop(==),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x80)]]]]]],exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): del timer\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[if[exp[call[exp[ident(del_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x0c)]]]],stmt[comp{}[stmt[if[exp[binary_arith[aop(&),exp[*ref[exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[typeName[ident(__u8),fullType(unknown)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]],exp[const[int(1)]]]]]],exp[ident(SENSE_DRIVE_ONLINE)]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[~[exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(-- Tape Interrupthandler --\n)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense_dbf)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(tape:device is not operational\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(irq)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[ident(TAPE_IO_SUCCESS)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_PENDING)],stmt[jump(break)]]],stmt[case[exp[ident(TAPE_IO_LONG_BUSY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(expires)]],exp[binary_arith[aop(+),exp[ident(jiffies)],exp[binary_arith[aop(*),exp[ident(LONG_BUSY_TIMEOUT)],exp[ident(HZ)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): add timer\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_RETRY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_STOP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[default[stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(xunknownrc\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]]]],stmt[jump(break)]]]]]]]],def[fname(tape_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:nodev\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:dbusy\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_BLKUSE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:dbusy\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[![exp[call[exp[ident(try_module_get)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:nodisc\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_IN_USE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_UNUSED)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_mtop),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(mt_op),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(mt_count),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fn),fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:mtio\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:ioop: %x\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:arg:	 %x\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(TAPE_NR_MTOPS)]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[array_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(mtop_array)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSR)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSF)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSF)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSFM)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSFM)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[for[expr(empty),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)],exp[const[int(500)]]]],exp[assign[op_assi(-=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)],exp[const[int(500)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[const[int(500)]]]]]],exp[const[int(0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_init),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[call[exp[ident(debug_register)],exp[const[string(tape)]],exp[const[int(2)]],exp[const[int(2)]],exp[binary_arith[aop(*),exp[const[int(4)]],exp[sizeoftype[fulltype[btype[itype[sgn(signed),base(long)]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(debug_register_view)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[&ref[exp[ident(debug_sprintf_view)]]]]]]],stmt[exprstmt[exp[call[exp[ident(debug_set_level)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[const[int(6)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(tape init\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(tape_proc_init)]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_init)]]]]],stmt[exprstmt[exp[call[exp[ident(tapeblock_init)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_exit),funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(tape exit\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_exit)]]]]],stmt[exprstmt[exp[call[exp[ident(tapeblock_exit)]]]]],stmt[exprstmt[exp[call[exp[ident(tape_proc_cleanup)]]]]],stmt[exprstmt[exp[call[exp[ident(debug_unregister)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)]]]]]]]],macrotop[MODULE_AUTHOR[exp[const[other(N/H)]]]],macrotop[MODULE_DESCRIPTION[exp[const[string(Linux on zSeries channel attached tape device driver)]]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]],macrotop[module_init[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_init)]]],macrotop[module_exit[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_exit)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]]]],ident(tape_generic_remove)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]]]],ident(tape_generic_probe)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(discipline),fulltype[pointer[fulltype[struct(tape_discipline)]]]]]]],ident(tape_generic_online)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_generic_offline)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]]]],ident(tape_med_state_set)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_request)]]],param[reg(),name(cplength),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(datasize),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(tape_alloc_request)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_free_request)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense_dbf)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io_async)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io_interruptible)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_cancel_io)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(mt_op),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(mt_count),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(tape_mtop)]]]] ==> prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(kmod.h)],includeN[inc_elem(linux),inc_elem(spinlock.h)],includeN[inc_elem(linux),inc_elem(vmalloc.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(asm),inc_elem(types.h)],define(N/H),includeL[inc_elem(tape.h)],includeL[inc_elem(tape_std.h)],define(N/H),define(N/H),dlist[onedecl[ident(__tape_do_irq),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(irb)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(tape_delayed_next_request),fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(work_struct)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(tape_long_busy_timeout),fulltype[funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],storage[stobis(static),inline(no)]]],mdecl[LIST_HEAD[exp[ident(tape_device_list)]]],mdecl[DEFINE_RWLOCK[exp[ident(tape_device_lock)]]],dlist[onedecl_ini[ident(TAPE_DBF_AREA),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]],storage[stobis(nosto),inline(no)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)]]],dlist[onedecl_ini[ident(tape_state_verbose),iniList[inidesignators[ini[exp[const[string(UNUSED)]]],dindex[exp[ident(TS_UNUSED)]]],inidesignators[ini[exp[const[string(IN_USE)]]],dindex[exp[ident(TS_IN_USE)]]],inidesignators[ini[exp[const[string(BLKUSE)]]],dindex[exp[ident(TS_BLKUSE)]]],inidesignators[ini[exp[const[string(INIT  )]]],dindex[exp[ident(TS_INIT)]]],inidesignators[ini[exp[const[string(NOT_OP)]]],dindex[exp[ident(TS_NOT_OPER)]]]],fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]],storage[stobis(nosto),inline(no)]]],dlist[onedecl_ini[ident(tape_op_verbose),iniList[inidesignators[ini[exp[const[string(BLK)]]],dindex[exp[ident(TO_BLOCK)]]],inidesignators[ini[exp[const[string(BSB)]]],dindex[exp[ident(TO_BSB)]]],inidesignators[ini[exp[const[string(BSF)]]],dindex[exp[ident(TO_BSF)]]],inidesignators[ini[exp[const[string(DSE)]]],dindex[exp[ident(TO_DSE)]]],inidesignators[ini[exp[const[string(FSB)]]],dindex[exp[ident(TO_FSB)]]],inidesignators[ini[exp[const[string(FSF)]]],dindex[exp[ident(TO_FSF)]]],inidesignators[ini[exp[const[string(LBL)]]],dindex[exp[ident(TO_LBL)]]],inidesignators[ini[exp[const[string(NOP)]]],dindex[exp[ident(TO_NOP)]]],inidesignators[ini[exp[const[string(RBA)]]],dindex[exp[ident(TO_RBA)]]],inidesignators[ini[exp[const[string(RBI)]]],dindex[exp[ident(TO_RBI)]]],inidesignators[ini[exp[const[string(RFO)]]],dindex[exp[ident(TO_RFO)]]],inidesignators[ini[exp[const[string(REW)]]],dindex[exp[ident(TO_REW)]]],inidesignators[ini[exp[const[string(RUN)]]],dindex[exp[ident(TO_RUN)]]],inidesignators[ini[exp[const[string(WRI)]]],dindex[exp[ident(TO_WRI)]]],inidesignators[ini[exp[const[string(WTM)]]],dindex[exp[ident(TO_WTM)]]],inidesignators[ini[exp[const[string(MSN)]]],dindex[exp[ident(TO_MSEN)]]],inidesignators[ini[exp[const[string(LOA)]]],dindex[exp[ident(TO_LOAD)]]],inidesignators[ini[exp[const[string(RCF)]]],dindex[exp[ident(TO_READ_CONFIG)]]],inidesignators[ini[exp[const[string(RAT)]]],dindex[exp[ident(TO_READ_ATTMSG)]]],inidesignators[ini[exp[const[string(DIS)]]],dindex[exp[ident(TO_DIS)]]],inidesignators[ini[exp[const[string(ASS)]]],dindex[exp[ident(TO_ASSIGN)]]],inidesignators[ini[exp[const[string(UAS)]]],dindex[exp[ident(TO_UNASSIGN)]]],inidesignators[ini[exp[const[string(CON)]]],dindex[exp[ident(TO_CRYPT_ON)]]],inidesignators[ini[exp[const[string(COF)]]],dindex[exp[ident(TO_CRYPT_OFF)]]],inidesignators[ini[exp[const[string(KLS)]]],dindex[exp[ident(TO_KEKL_SET)]]],inidesignators[ini[exp[const[string(KLQ)]]],dindex[exp[ident(TO_KEKL_QUERY)]]],inidesignators[ini[exp[const[string(RDC)]]],dindex[exp[ident(TO_RDC)]]]],fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]],storage[stobis(nosto),inline(no)]]],def[fname(busid_to_int),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bus_id),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dec),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(d),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(s),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[,seq[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(bus_id)]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(0)]]]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(.)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(10)]]]],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]],stmt[for[exp[,seq[exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(0)]]]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(.)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[const[int(10)]]]],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[binary_arith[aop(+),exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[const[int(8)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]]]],stmt[for[exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(\0)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]],exp[binary_logi[logiop(<=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(9)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(0)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(a)]]]],exp[binary_logi[logiop(<=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(f)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(a)]]]],exp[const[int(10)]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(s)]]],exp[conts[char(A)]]]],exp[const[int(10)]]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[binary_arith[aop(+),exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)],exp[const[int(4)]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(d)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dec)]]]]]],def[fname(tape_medium_state_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(medium_state)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(medium_state)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_medium_state_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_first_minor_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(first_minor)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_first_minor_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_state_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%s\n)]],exp[cond3[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]],exp[const[int(0)]]]],exp[const[string(OFFLINE)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(tape_state)]]]]]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(state)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_state_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_operation_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[typeName[ident(ssize_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(first_minor)]],exp[const[int(0)]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(N/A\n)]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(cdev)]]]]]]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(req_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)],exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(---\n)]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)],exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%s\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],ident(op)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[typeName[ident(ssize_t),fullType(unknown)]]],ident(rc)]]]]]],mdecl[DEVICE_ATTR[exp[ident(operation)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_operation_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],def[fname(tape_blocksize_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tdev),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(driver_data)]]]]]]]],stmt[return[exp[call[exp[ident(scnprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[ident(PAGE_SIZE)],exp[const[string(%i\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tdev)],ident(char_data)]],ident(block_size)]]]]]]]]],mdecl[DEVICE_ATTR[exp[ident(blocksize)],exp[const[int(0444)]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(tape_blocksize_show)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],dlist[onedecl_ini[ident(tape_attrs),iniList[ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_medium_state)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_first_minor)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_state)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_operation)],ident(attr)]]]]],ini[exp[&ref[exp[record_acc[exp[ident(dev_attr_blocksize)],ident(attr)]]]]],ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],fulltype[array[constExp(none),fulltype[pointer[fulltype[struct(attribute)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(tape_attr_group),iniList[inidesignators[ini[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[struct(attribute)]]]]]],ident(tape_attrs)]],dfield(attrs)]],fulltype[struct(attribute_group)],storage[stobis(static),inline(no)]]],def[fname(tape_state_set),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]],stmt[comp{}[stmt[dlist[onedecl[ident(str),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(ts_set err: not oper\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(ts. dev:	%x\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(old ts:\t\n)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_SIZE)]]],exp[binary_logi[logiop(>=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[const[string(UNKNOWN TS)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(%s\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(new ts:\t\n)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)],exp[ident(TS_SIZE)]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)],exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)],exp[const[string(UNKNOWN TS)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(%s\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(str)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[TYPEDEXP[fulltype[enumname(tape_state)]],ident(newstate)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]]]]],def[fname(tape_med_state_set),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[switch[exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)],stmt[comp{}[stmt[case[exp[ident(MS_UNLOADED)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_DR_OPEN)],exp[~[exp[const[int(0)]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string((%s): Tape is unloaded\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(break)],stmt[case[exp[ident(MS_LOADED)],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[~[exp[call[exp[ident(GMT_DR_OPEN)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string((%s): Tape has been mounted\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(break)],stmt[default[stmt[jump(break)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[TYPEDEXP[fulltype[enumname(tape_medium_state)]],ident(newstate)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]]]]],def[fname(__tape_cancel_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(retries),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[const[int(0)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)],exp[const[int(5)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(retries)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(ccw_device_clear)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[cast[fulltype[btype[itype[sgn(signed),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]]]],stmt[return[exp[const[int(0)]]]],stmt[case[exp[-[exp[ident(EBUSY)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_CANCEL)]]]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[case[exp[-[exp[ident(ENODEV)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(device gone, retry\n)]]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(I/O error, retry\n)]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(BUG)]]]]]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_assign_minor),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(write_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(first_minor)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(TAPE_MINORS_PER_DEV)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(256)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(node)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_remove_minor),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(write_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del_init)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(write_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]]]]],def[fname(tape_generic_online),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(discipline),fulltype[pointer[fulltype[struct(tape_discipline)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_enable_device(%p, %p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string(Tapestate not INIT (%d)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(init_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(function)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],ident(tape_long_busy_timeout)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(owner)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Cannot get module. Module gone.\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(setup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_assign_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_discipline)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(tapechar_setup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_minor)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(tapeblock_setup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(out_char)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_UNUSED)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): Drive set online\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[labeled[lname(out_char),stmt[exprstmt[exp[call[exp[ident(tapechar_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[labeled[lname(out_discipline),stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(cleanup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[labeled[lname(out_minor),stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_remove_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_discipline)]]]],ident(discipline)],ident(owner)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_cleanup_device),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(tapeblock_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(cleanup_device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_remove_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]]]],ident(tape_med_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(MS_UNKNOWN)]]]]]]]],def[fname(tape_generic_offline),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(tape_generic_offline: no such device\n)]]]]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): tape_generic_offline(%p)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],stmt[comp{}[stmt[case[exp[ident(TS_INIT)],stmt[case[exp[ident(TS_NOT_OPER)],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(TS_UNUSED)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_INIT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): Drive set offline.\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_alloc_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(tape_device)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(ti:no mem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]],exp[call[exp[ident(kmalloc)],exp[const[int(1)]],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(2)]],exp[const[string(ti:no mem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(can't allocate memory for modeset byte\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(node)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(state_change_wq)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(medium_state)]],exp[ident(MS_UNKNOWN)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(first_minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_DELAYED_WORK)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(work_struct)]]]]]]],ident(tape_delayed_next_request)]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_get_device_reference),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_get_device_reference(%p) = %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(atomic_inc_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_put_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(remain),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[call[exp[ident(atomic_dec_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(ref_count)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_put_device(%p) -> %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)]]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(remain)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(put device without reference\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(put device without reference\n)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(4)]],exp[const[string(tape_free_device(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(modeset_byte)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(tape_get_device),funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(devindex),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(tmp),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(read_lock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[binary_arith[aop(/),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)],ident(first_minor)]],exp[ident(TAPE_MINORS_PER_DEV)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(devindex)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(tmp)]]]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(read_unlock)],exp[&ref[exp[ident(tape_device_lock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]],def[fname(tape_generic_probe),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(ret),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_alloc_device)]]]]]]],stmt[if[exp[call[exp[ident(IS_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(ccw_device_set_options)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],exp[ident(CCWDEV_DO_PATHGROUP)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],exp[call[exp[ident(sysfs_create_group)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(kobj)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(attribute_group)]],ident(tape_attr_group)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(probe failed for tape device %s\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(__tape_do_irq)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bus_id),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(busid_to_int)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(tape device %s found\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(ret)]]]]]],def[fname(__tape_discard_requests),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(n),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_safe[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[-[exp[ident(EIO)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]]]]]]]],def[fname(tape_generic_remove),funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(No device pointer in tape_generic_remove!\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(3)]],exp[const[string((%08x): tape_generic_remove(%p)\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],stmt[comp{}[stmt[case[exp[ident(TS_INIT)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]]]],stmt[case[exp[ident(TS_NOT_OPER)],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]],stmt[jump(break)],stmt[case[exp[ident(TS_UNUSED)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): Drive in use vanished!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(State was %i\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_NOT_OPER)]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_discard_requests)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_cleanup_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(sysfs_remove_group)],exp[&ref[exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(kobj)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(attribute_group)]],ident(tape_attr_group)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]]]]]],stmt[exprstmt(none)]]]]]],def[fname(tape_alloc_request),funtype[fulltype[pointer[fulltype[struct(tape_request)]]],param[reg(),name(cplength),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(datasize),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[ident(PAGE_SIZE)]]],exp[binary_logi[logiop(>),exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[sizeoftype[fulltype[struct(ccw1)]]]]],exp[ident(PAGE_SIZE)]]]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_alloc_request(%d, %d)\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(tape_request)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[call[exp[ident(kcalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(cplength)],exp[sizeoftype[fulltype[struct(ccw1)]]],exp[binary_arith[aop(|),exp[ident(GFP_ATOMIC)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]],exp[call[exp[ident(kzalloc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(datasize)],exp[binary_arith[aop(|),exp[ident(GFP_KERNEL)],exp[ident(GFP_DMA)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EXCEPTION)],exp[const[int(1)]],exp[const[string(cqra nomem\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[return[exp[call[exp[ident(ERR_PTR)],exp[-[exp[ident(ENOMEM)]]]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(New request %p(%p/%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]],def[fname(tape_free_request),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(Free request %p\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpdata)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]],def[fname(__tape_start_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]],exp[ident(TO_BLOCK)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(check_locate)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(ccw_device_start)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(cpaddr)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]],exp[const[int(0x00)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(options)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(1)]],exp[const[string(tape: start request failed with RC = %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_start_next_request),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(n),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_start_next_request(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[macroit[list_for_each_safe[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_CANCEL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]]]]]]]],def[fname(tape_delayed_next_request),funtype[fulltype[btype(void)],param[reg(),name(work),fulltype[pointer[fulltype[struct(work_struct)]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(device),ini[exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(work_struct)]]]],ident(work)],argtype(N/H),exp[record_acc[exp[ident(tape_dnr)],ident(work)]]]]],fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_delayed_next_request(%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]],def[fname(tape_long_busy_timeout),funtype[fulltype[btype(void)],param[reg(),name(data),fulltype[btype[itype[sgn(unsigned),base(long)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(data)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]],stmt[exprstmt[exp[call[exp[ident(BUG)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(%08x: Long busy timeout.\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]]]]],def[fname(__tape_end_request),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_end_request(%p, %p, %i)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]],stmt[exprstmt(none)]]]]]],def[fname(tape_dump_sense),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sptr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(-------------------------------------------------\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(DSTAT : %02x  CSTAT: %02x	CPA: %04x\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cpa)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(DEVICE: %s\n)]],exp[record_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]],ident(dev)]],ident(bus_id)]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(OP	  : %s\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[cast[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Sense data: %08X %08X %08X %08X \n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(0)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(1)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(2)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(3)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Sense data: %08X %08X %08X %08X \n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(4)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(5)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(6)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(7)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(--------------------------------------------------\n)]]]]]]]]],def[fname(tape_dump_sense_dbf),funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(sptr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(op),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)],exp[const[string(---)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(DSTAT : %02x   CSTAT: %02x\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cstat)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(DEVICE: %08x OP\t: %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(op)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[cast[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(0)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(2)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(3)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(4)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(5)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(%08x %08x\n)]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(6)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(int)]]]]]],ident(sptr)],exp[const[int(7)]]]]]]]]]]],def[fname(__tape_start_request),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(op)]],stmt[comp{}[stmt[case[exp[ident(TO_MSEN)],stmt[case[exp[ident(TO_ASSIGN)],stmt[case[exp[ident(TO_UNASSIGN)],stmt[case[exp[ident(TO_READ_ATTMSG)],stmt[case[exp[ident(TO_RDC)],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_INIT)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_UNUSED)]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[default[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_BLKUSE)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(device)]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[if[exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(5)]],exp[const[string(Request %p added for execution.\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(5)]],exp[const[string(Request %p add to queue.\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(list)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_do_io_async),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(tape_do_io_async(%p, %p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_wake_up),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up)],exp[cast[fulltype[pointer[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(data)]]]]]]]]]],def[fname(tape_do_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(wq),fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]]]],ident(__tape_wake_up)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(wait_event)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]]]]]]],def[fname(__tape_wake_up_interruptible),funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(wake_up_interruptible)],exp[cast[fulltype[pointer[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(data)]]]]]]]]]],def[fname(tape_do_io_interruptible),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(wq),fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(init_waitqueue_head)],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(data),fulltype[pointer[fulltype[btype(void)]]]]]]],ident(__tape_wake_up_interruptible)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback_data)]],exp[&ref[exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(wait_event_interruptible)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]],stmt[return[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rc)]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[dowhile[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(wait_event_interruptible)],exp[TYPEDEXP[fulltype[typeName[ident(wait_queue_head_t),fullType(unknown)]]],ident(wq)],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(callback)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]]]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(IO stopped on %08x\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ERESTARTSYS)]]]]]]]]],stmt[exprstmt(none)]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_cancel_io),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock_irq)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(__tape_do_irq),funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(device),fulltype[pointer[fulltype[struct(tape_device)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(request),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[cast[fulltype[pointer[fulltype[struct(tape_device)]]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[cast[fulltype[pointer[fulltype[struct(tape_request)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(intparm)]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_LH)],exp[const[int(6)]],exp[const[string(__tape_do_irq(device=%p, request=%p)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]],stmt[if[exp[call[exp[ident(IS_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]],stmt[comp{}[stmt[switch[exp[call[exp[ident(PTR_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]],stmt[comp{}[stmt[case[exp[-[exp[ident(ETIMEDOUT)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string((%s): Request timed out\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]]]]]]]],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string((%s): Unexpected i/o error %li\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(bus_id)]],exp[call[exp[ident(PTR_ERR)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]]]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cc)]],exp[const[int(0)]]]],exp[binary_arith[aop(&),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(fctl)]],exp[ident(SCSW_FCTL_START_FUNC)]]]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_IN_IO)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): deferred cc=%i, fctl=%i. restarting\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(cc)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(fctl)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_QUEUED)]]]]],stmt[exprstmt[exp[call[exp[ident(schedule_delayed_work)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_dnr)]]]],exp[ident(HZ)]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(rescnt)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(count)]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x85)]]]],exp[binary_logi[logiop(==),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x80)]]]]]],exp[![exp[call[exp[ident(list_empty)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(req),fulltype[pointer[fulltype[struct(tape_request)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],exp[call[exp[ident(list_entry)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(req_queue)]],ident(next)]],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(req)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): del timer\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[if[exp[call[exp[ident(del_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(__tape_start_next_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]],stmt[exprstmt(none)]]],stmt[jump(return)]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(scsw)]],ident(dstat)]],exp[const[int(0x0c)]]]],stmt[comp{}[stmt[if[exp[binary_arith[aop(&),exp[*ref[exp[binary_arith[aop(+),exp[cast[fulltype[pointer[fulltype[typeName[ident(__u8),fullType(unknown)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)],ident(ecw)]]]],exp[const[int(1)]]]]]],exp[ident(SENSE_DRIVE_ONLINE)]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[~[exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(-- Tape Interrupthandler --\n)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense_dbf)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(tape:device is not operational\n)]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_DONE)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]],stmt[jump(return)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(irq)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(irb)]]]],ident(irb)]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[ident(TAPE_IO_SUCCESS)],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_generic_status)]],exp[call[exp[ident(GMT_ONLINE)],exp[~[exp[const[int(0)]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_PENDING)],stmt[jump(break)]]],stmt[case[exp[ident(TAPE_IO_LONG_BUSY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(data)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]],ident(expires)]],exp[binary_arith[aop(+),exp[ident(jiffies)],exp[binary_arith[aop(*),exp[ident(LONG_BUSY_TIMEOUT)],exp[ident(HZ)]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string((%08x): add timer\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_timer)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(lb_timeout)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],ident(status)]],exp[ident(TAPE_REQUEST_LONG_BUSY)]]]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_RETRY)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_start_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[case[exp[ident(TAPE_IO_STOP)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(__tape_cancel_io)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt(none)]]],stmt[jump(break)],stmt[default[stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(xunknownrc\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[-[exp[ident(EIO)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(__tape_end_request)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_request)]]]],ident(request)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]]]],stmt[jump(break)]]]]]]]],def[fname(tape_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_NOT_OPER)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:nodev\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:dbusy\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_BLKUSE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:dbusy\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[![exp[call[exp[ident(try_module_get)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:nodisc\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_IN_USE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(spin_lock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(tape_state)]],exp[ident(TS_IN_USE)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[ident(TS_UNUSED)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(owner)]]]]]],stmt[exprstmt[exp[call[exp[ident(spin_unlock)],exp[call[exp[ident(get_ccwdev_lock)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(cdev)]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_mtop),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(mt_op),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(mt_count),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(fn),fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:mtio\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:ioop: %x\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(TAPE:arg:	 %x\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[const[int(0)]]]],exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(TAPE_NR_MTOPS)]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[array_acc[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],ident(discipline)]],ident(mtop_array)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSR)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSF)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSF)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTFSFM)]]]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_op)],exp[ident(MTBSFM)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[for[expr(empty),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)],exp[const[int(500)]]]],exp[assign[op_assi(-=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)],exp[const[int(500)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[const[int(500)]]]]]],exp[const[int(0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[typeName[ident(tape_mtop_fn),fullType(unknown)]]],ident(fn)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(tape_device)]]]],ident(device)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(mt_count)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(tape_init),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[call[exp[ident(debug_register)],exp[const[string(tape)]],exp[const[int(2)]],exp[const[int(2)]],exp[binary_arith[aop(*),exp[const[int(4)]],exp[sizeoftype[fulltype[btype[itype[sgn(signed),base(long)]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(debug_register_view)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[&ref[exp[ident(debug_sprintf_view)]]]]]]],stmt[exprstmt[exp[call[exp[ident(debug_set_level)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)],exp[const[int(6)]]]]]],stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(3)]],exp[const[string(tape init\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(tape_proc_init)]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_init)]]]]],stmt[exprstmt[exp[call[exp[ident(tapeblock_init)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(tape_exit),funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(DBF_EVENT)],exp[const[int(6)]],exp[const[string(tape exit\n)]]]]]],stmt[exprstmt[exp[call[exp[ident(tapechar_exit)]]]]],stmt[exprstmt[exp[call[exp[ident(tapeblock_exit)]]]]],stmt[exprstmt[exp[call[exp[ident(tape_proc_cleanup)]]]]],stmt[exprstmt[exp[call[exp[ident(debug_unregister)],exp[TYPEDEXP[fulltype[pointer[fulltype[typeName[ident(debug_info_t),fullType(unknown)]]]]],ident(TAPE_DBF_AREA)]]]]]]]],macrotop[MODULE_AUTHOR[exp[const[other(N/H)]]]],macrotop[MODULE_DESCRIPTION[exp[const[string(Linux on zSeries channel attached tape device driver)]]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]],macrotop[module_init[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_init)]]],macrotop[module_exit[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]]]],ident(tape_exit)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]]]],ident(tape_generic_remove)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]]]]],ident(tape_generic_probe)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(discipline),fulltype[pointer[fulltype[struct(tape_discipline)]]]]]]],ident(tape_generic_online)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_generic_offline)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_put_device)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_device)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]]]]],ident(tape_get_device_reference)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TS_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_state_verbose)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(TO_SIZE)]],fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]]]],ident(tape_op_verbose)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_state)]]]]],ident(tape_state_set)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(newstate),fulltype[enumname(tape_medium_state)]]]]],ident(tape_med_state_set)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(tape_request)]]],param[reg(),name(cplength),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(datasize),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(tape_alloc_request)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_free_request)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(tape_dump_sense_dbf)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io_async)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_do_io_interruptible)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(request),fulltype[pointer[fulltype[struct(tape_request)]]]]]]],ident(tape_cancel_io)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(device),fulltype[pointer[fulltype[struct(tape_device)]]]],param[reg(),name(mt_op),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(mt_count),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(tape_mtop)]]]]

 ++ 
&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_notifier)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]]

comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]] ==> comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]]]

def[fname(raw3270_register_notifier),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(notifier),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]]]] ==> def[fname(raw3270_register_notifier),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(notifier),fulltype[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(np),fulltype[pointer[fulltype[struct(raw3270_notifier)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(raw3270_notifier)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)]]],stmt[return[exp[-[exp[ident(ENOMEM)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(notifier)]],exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270_notifier)]]]],ident(np)],ident(list)]]]],exp[&ref[exp[ident(raw3270_notifier)]]]]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[pointer[fulltype[funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(),fulltype[btype[itype[sgn(signed),base(int)]]]]]]]]],ident(notifier)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[const[int(1)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[return[exp[const[int(0)]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_notifier)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(raw3270_devices)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]

comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]] ==> comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]

stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]] ==> stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]]

if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]] ==> if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]

stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]] ==> stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]]

comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]] ==> comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]]]

def[fname(raw3270_setup_device),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(rp),fulltype[pointer[fulltype[struct(raw3270)]]]],param[reg(),name(ascebc),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]]]] ==> def[fname(raw3270_setup_device),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(rp),fulltype[pointer[fulltype[struct(raw3270)]]]],param[reg(),name(ascebc),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(raw3270)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(memset)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],exp[const[int(0)]],exp[sizeoftype[fulltype[struct(raw3270)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[ident(_ascebc)],exp[const[int(256)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(tubxcorrect)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char([)]]]],exp[const[int(0xad)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(])]]]],exp[const[int(0xbd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)],exp[conts[char(^)]]]],exp[const[int(0xb0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(ascebc)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(ascebc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(rows)]],exp[const[int(24)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cols)]],exp[const[int(80)]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(req_queue)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(view_list)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[ident(RAW3270_FIRSTMINOR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(tmp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(__list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],ident(prev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(+),exp[ident(RAW3270_MAXDEVS)],exp[ident(RAW3270_FIRSTMINOR)]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(list)]]]],exp[&ref[exp[ident(raw3270_devices)]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(raw3270_mutex)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(minor)]],exp[-[exp[const[int(1)]]]]]],stmt[return[exp[-[exp[ident(EUSERS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)],ident(cdev)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(dev)]],ident(driver_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(raw3270)]]]],ident(rp)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(ccw_device)]]]],ident(cdev)],ident(handler)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(cdev),fulltype[pointer[fulltype[struct(ccw_device)]]]],param[reg(),name(intparm),fulltype[btype[itype[sgn(unsigned),base(long)]]]],param[reg(),name(irb),fulltype[pointer[fulltype[struct(irb)]]]]]]],ident(raw3270_irq)]]]]],stmt[return[exp[const[int(0)]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(raw3270_devices)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

 ++ 
&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X0),exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add_tail)],meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(dcssblk_devices)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]]

comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]] ==> comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]

stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]

def[fname(dcssblk_add_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]] ==> def[fname(dcssblk_add_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(ctype.h)],includeN[inc_elem(linux),inc_elem(errno.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(blkdev.h)],includeN[inc_elem(asm),inc_elem(extmem.h)],includeN[inc_elem(asm),inc_elem(io.h)],includeN[inc_elem(linux),inc_elem(completion.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(asm),inc_elem(s390_rdev.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),dlist[onedecl[ident(dcssblk_open),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_release),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_make_request),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_direct_access),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(dcssblk_segments),ini[exp[const[string(\0)]]],fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_major),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(dcssblk_devops),iniList[inidesignators[ini[exp[ident(THIS_MODULE)]],dfield(owner)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]]],ident(dcssblk_open)]],dfield(open)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]]],ident(dcssblk_release)]],dfield(release)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcssblk_direct_access)]],dfield(direct_access)]],fulltype[struct(block_device_operations)],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_add_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_remove_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_save_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_save_show),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_shared_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_shared_show),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],storage[stobis(static),inline(no)]]],mdecl[DEVICE_ATTR[exp[ident(add)],exp[ident(S_IWUSR)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_add_store)]]],mdecl[DEVICE_ATTR[exp[ident(remove)],exp[ident(S_IWUSR)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_remove_store)]]],mdecl[DEVICE_ATTR[exp[ident(save)],exp[binary_arith[aop(|),exp[ident(S_IWUSR)],exp[ident(S_IRUGO)]]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_save_show)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_save_store)]]],mdecl[DEVICE_ATTR[exp[ident(shared)],exp[binary_arith[aop(|),exp[ident(S_IWUSR)],exp[ident(S_IRUGO)]]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_shared_show)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_shared_store)]]],dlist[onedecl[ident(dcssblk_root_dev),fulltype[pointer[fulltype[struct(device)]]],storage[stobis(static),inline(no)]]],dlist[onedecl(())],dlist[onedecl_ini[ident(dcssblk_devices),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_devices_sem),fulltype[struct(rw_semaphore)],storage[stobis(static),inline(no)]]],def[fname(dcssblk_release_segment),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(segment release fn called for %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]]]]],def[fname(dcssblk_assign_free_minor),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(found),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(entry),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[ident(MINORBITS)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)],exp[const[int(0)]]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)],ident(gd)]],ident(first_minor)]]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)]]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_get_device_by_name),funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(entry),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(strcmp)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)],ident(segment_name)]]]]]],stmt[comp{}[stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)]]]]],stmt[exprstmt(none)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(dcssblk_segment_warn),funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[-[exp[ident(ENOENT)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, does not exist\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOSYS)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, not running on VM\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, hardware error\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOTSUPP)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EBUSY)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EPERM)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOMEM)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, out of memory\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, return value %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[jump(break)]]]]]]]],def[fname(dcssblk_unregister_callback),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]]],def[fname(dcssblk_shared_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[return[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[cond3[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[string(1\n)]],exp[const[string(0\n)]]]]]]]]]]],def[fname(dcssblk_shared_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[if[exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(share: segment %s is busy!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(1)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_modify_shared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[ident(SEGMENT_SHARED)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]],stmt[goto(removeseg)],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(0)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[ident(SEG_TYPE_SC)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_modify_shared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[ident(SEGMENT_EXCLUSIVE)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]],stmt[goto(removeseg)],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(removeseg),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Could not reload segment %s, removing it now!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(del_gendisk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_schedule_callback)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_unregister_callback)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcssblk_save_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[return[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[cond3[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[string(1\n)]],exp[const[string(0\n)]]]]]]]]]]],def[fname(dcssblk_save_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(1)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Saving segment %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_save)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(1)]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(0)]]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Pending save for segment %s deactivated\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]]],def[fname(dcssblk_add_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_remove_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s is not loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s is in use!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(del_gendisk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s unloaded successfully\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[labeled[lname(out_buf),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcssblk_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(atomic_inc)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_block_size)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[call[exp[ident(atomic_dec_and_test)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Segment %s became idle and is being saved now\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_save)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_make_request),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bvec),fulltype[pointer[fulltype[struct(bio_vec)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(index),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(page_addr),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(source_addr),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bytes_done),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]],exp[const[int(7)]]]],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_size)]],exp[const[int(4095)]]]],exp[const[int(0)]]]]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[binary_arith[aop(+),exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_size)]],exp[const[int(9)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]]]],exp[call[exp[ident(get_capacity)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_bdev)]],ident(bd_disk)]]]]]],stmt[comp{}[stmt[goto(fail)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],stmt[comp{}[stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(bio_data_dir)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]],exp[ident(WRITE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(rejecting write to ro segment %s\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]]]]]],stmt[goto(fail)]]],stmt[exprstmt(none)]]]]]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(index)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]],exp[const[int(3)]]]]]]]],stmt[macroit[bio_for_each_segment[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)],exp[binary_arith[aop(+),exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[ident(page_address)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_page)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_offset)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)],exp[binary_arith[aop(+),exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(index)],exp[const[int(12)]]]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(!=),exp[call[exp[ident(unlikely)],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)],exp[const[int(4095)]]]]]],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]],exp[const[int(4095)]]]],exp[const[int(0)]]]]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(bio_data_dir)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]],exp[ident(READ)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(bio_endio)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[labeled[lname(fail),stmt[exprstmt[exp[call[exp[ident(bio_io_error)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_direct_access),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(pgoff),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(block_device)]]]],ident(bdev)],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(%),exp[TYPEDEXP[fulltype[typeName[ident(sector_t),fullType(unknown)]]],ident(secnum)],exp[binary_arith[aop(/),exp[ident(PAGE_SIZE)],exp[const[int(512)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[binary_arith[aop(/),exp[TYPEDEXP[fulltype[typeName[ident(sector_t),fullType(unknown)]]],ident(secnum)],exp[binary_arith[aop(/),exp[ident(PAGE_SIZE)],exp[const[int(512)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[binary_arith[aop(-),exp[binary_arith[aop(*),exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[const[int(1)]]]],exp[ident(PAGE_SIZE)]]],exp[const[int(1)]]]],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]]]],stmt[return[exp[-[exp[ident(ERANGE)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(data)]]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]],exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[ident(PAGE_SIZE)]]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_check_params),funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(j),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(k),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(buf),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(DCSSBLK_PARM_LEN)]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(,)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(()]]]]]],exp[binary_logi[logiop(<),exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[const[int(8)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_add_store)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(()]]]]]],stmt[comp{}[stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]],exp[conts[char(\0)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]]]]]]]]]],stmt[if[exp[![exp[call[exp[ident(strncmp)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]],exp[const[string((local))]],exp[const[int(7)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_shared_store)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[string(0\n)]],exp[const[int(2)]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[while[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(,)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]]]],NCP(N/H),NCP(N/H),macrotop[module_init[exp[ident(dcssblk_init)]]],macrotop[module_exit[exp[ident(dcssblk_exit)]]],macrotop[module_param_string[exp[ident(segments)],exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[ident(DCSSBLK_PARM_LEN)],exp[const[int(0444)]]]],macrotop[MODULE_PARM_DESC[exp[ident(segments)],exp[const[other(N/H)]]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]]] ==> prg2[includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(moduleparam.h)],includeN[inc_elem(linux),inc_elem(ctype.h)],includeN[inc_elem(linux),inc_elem(errno.h)],includeN[inc_elem(linux),inc_elem(init.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(blkdev.h)],includeN[inc_elem(asm),inc_elem(extmem.h)],includeN[inc_elem(asm),inc_elem(io.h)],includeN[inc_elem(linux),inc_elem(completion.h)],includeN[inc_elem(linux),inc_elem(interrupt.h)],includeN[inc_elem(asm),inc_elem(s390_rdev.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),dlist[onedecl[ident(dcssblk_open),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_release),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_make_request),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_direct_access),fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(dcssblk_segments),ini[exp[const[string(\0)]]],fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_major),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(dcssblk_devops),iniList[inidesignators[ini[exp[ident(THIS_MODULE)]],dfield(owner)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]]],ident(dcssblk_open)]],dfield(open)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]]]],ident(dcssblk_release)]],dfield(release)],inidesignators[ini[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcssblk_direct_access)]],dfield(direct_access)]],fulltype[struct(block_device_operations)],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_add_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_remove_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_save_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_save_show),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_shared_store),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]],storage[stobis(static),inline(no)]]],dlist[onedecl[ident(dcssblk_shared_show),fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],storage[stobis(static),inline(no)]]],mdecl[DEVICE_ATTR[exp[ident(add)],exp[ident(S_IWUSR)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_add_store)]]],mdecl[DEVICE_ATTR[exp[ident(remove)],exp[ident(S_IWUSR)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_remove_store)]]],mdecl[DEVICE_ATTR[exp[ident(save)],exp[binary_arith[aop(|),exp[ident(S_IWUSR)],exp[ident(S_IRUGO)]]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_save_show)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_save_store)]]],mdecl[DEVICE_ATTR[exp[ident(shared)],exp[binary_arith[aop(|),exp[ident(S_IWUSR)],exp[ident(S_IRUGO)]]],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_shared_show)],exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_shared_store)]]],dlist[onedecl[ident(dcssblk_root_dev),fulltype[pointer[fulltype[struct(device)]]],storage[stobis(static),inline(no)]]],dlist[onedecl(())],mdecl[LIST_HEAD[exp[ident(dcssblk_devices)]]],dlist[onedecl[ident(dcssblk_devices_sem),fulltype[struct(rw_semaphore)],storage[stobis(static),inline(no)]]],def[fname(dcssblk_release_segment),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(segment release fn called for %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],ident(bus_id)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]]]]],def[fname(dcssblk_assign_free_minor),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(minor),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(found),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(entry),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[binary_arith[aop(<<),exp[const[int(1)]],exp[ident(MINORBITS)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)],exp[const[int(0)]]]]]],stmt[macroit[list_for_each_entry[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)],ident(gd)]],ident(first_minor)]]]],stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)]]]]]],stmt[exprstmt(none)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)]]],stmt[jump(break)],stmt[exprstmt(none)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(found)],stmt[return[exp[-[exp[ident(EBUSY)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(minor)]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_get_device_by_name),funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(entry),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[macroit[list_for_each_entry[stmt[comp{}[stmt[if[exp[![exp[call[exp[ident(strcmp)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)],ident(segment_name)]]]]]],stmt[comp{}[stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(entry)]]]]],stmt[exprstmt(none)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]]],def[fname(dcssblk_segment_warn),funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[-[exp[ident(ENOENT)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, does not exist\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOSYS)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, not running on VM\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EIO)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, hardware error\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOTSUPP)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EBUSY)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(EPERM)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ENOMEM)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, out of memory\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(cannot load/query segment %s, return value %i\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(seg_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[jump(break)]]]]]]]],def[fname(dcssblk_unregister_callback),funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]]],def[fname(dcssblk_shared_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[return[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[cond3[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[string(1\n)]],exp[const[string(0\n)]]]]]]]]]]],def[fname(dcssblk_shared_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[if[exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(share: segment %s is busy!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(1)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_modify_shared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[ident(SEGMENT_SHARED)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]],stmt[goto(removeseg)],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(0)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[ident(SEG_TYPE_SC)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_modify_shared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[ident(SEGMENT_EXCLUSIVE)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]],stmt[goto(removeseg)],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(removeseg),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Could not reload segment %s, removing it now!\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(del_gendisk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_schedule_callback)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_unregister_callback)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcssblk_save_show),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[return[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(buf)],exp[cond3[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[string(1\n)]],exp[const[string(0\n)]]]]]]]]]]],def[fname(dcssblk_save_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(1)]]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(container_of)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],argtype(N/H),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)]]]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(1)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Saving segment %s\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_save)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(1)]]]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(inbuf)],exp[const[int(0)]]]],exp[conts[char(0)]]]],stmt[comp{}[stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Pending save for segment %s deactivated\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]]]],stmt[exprstmt(none)]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Invalid value, must be 0 or 1\n)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]]],def[fname(dcssblk_add_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg_byte_size),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_nobuf)]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s already loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EEXIST)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(dcssblk_dev_info)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(strcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(strlcpy)],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(BUS_ID_SIZE)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(release)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]]]]],ident(dcssblk_release_segment)]]]]],stmt[exprstmt[exp[call[exp[ident(INIT_LIST_HEAD)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[call[exp[ident(alloc_disk)],exp[ident(DCSSBLK_MINORS_PER_DISK)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(free_dev_info)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(major)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcssblk_major)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(fops)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(block_device_operations)]],ident(dcssblk_devops)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[call[exp[ident(blk_alloc_queue)],exp[ident(GFP_KERNEL)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(private_data)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(driverfs_dev)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[ident(SEGMENT_SHARED)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(rc),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(seg_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_segment_warn)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[goto(dealloc_gendisk)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(set_capacity)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[binary_arith[aop(>>),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(seg_byte_size)],exp[const[int(9)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(parent)]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]]]]],ident(dcssblk_assign_free_minor)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]]]]]],stmt[goto(unload_seg)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(disk_name)]],exp[const[string(dcssblk%d)]],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(first_minor)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add_tail)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]],exp[&ref[exp[ident(dcssblk_devices)]]]]]]],stmt[if[exp[![exp[call[exp[ident(try_module_get)],exp[ident(THIS_MODULE)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_register)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(Segment %s could not be registered RC=%d\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]],stmt[exprstmt[exp[call[exp[ident(module_put)],exp[ident(THIS_MODULE)]]]]],stmt[goto(list_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(get_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_shared)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(device_create_file)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[&ref[exp[ident(dev_attr_save)]]]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[goto(unregister_dev)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_make_request)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]]]],ident(dcssblk_make_request)]]]]],stmt[exprstmt[exp[call[exp[ident(blk_queue_hardsect_size)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[call[exp[ident(add_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(1)]]]]]]]]]]]],stmt[jump(break)],stmt[default[stmt[exprstmt[exp[call[exp[ident(set_disk_ro)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],exp[const[int(0)]]]]]]]],stmt[jump(break)]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s loaded successfully\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[goto(out)],stmt[labeled[lname(unregister_dev),stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(device_create_file() failed!\n)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[goto(out)],stmt[labeled[lname(list_del),stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[labeled[lname(unload_seg),stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(dealloc_gendisk),stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[labeled[lname(free_dev_info),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]]]]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[labeled[lname(out_nobuf),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_remove_store),funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(local_buf),fulltype[pointer[fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)]]],stmt[comp{}[stmt[return[exp[-[exp[ident(EINVAL)]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[call[exp[ident(kmalloc)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)],exp[const[int(1)]]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[return[exp[-[exp[ident(ENOMEM)]]]]]]],stmt[exprstmt(none)]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[*ref[exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\0)]]]],exp[binary_logi[logiop(!=),exp[*ref[exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\n)]]]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENAMETOOLONG)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s is not loaded!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(Segment %s is in use!\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[goto(out_buf)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(lh)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(del_gendisk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(blk_cleanup_queue)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dcssblk_queue)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]],ident(queue)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[exprstmt[exp[call[exp[ident(put_disk)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(gd)]]]]]],stmt[exprstmt[exp[call[exp[ident(device_unregister)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_unload)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(PRINT_DEBUG)],exp[const[string(Segment %s unloaded successfully\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(put_device)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[TYPEDEXP[fulltype[typeName[ident(size_t),fullType(unknown)]]],ident(count)]]]]],stmt[labeled[lname(out_buf),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(local_buf)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcssblk_open),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(atomic_inc)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_block_size)]],exp[const[int(4096)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_release),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(inode),fulltype[pointer[fulltype[struct(inode)]]]],param[reg(),name(filp),fulltype[pointer[fulltype[struct(file)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(inode)]]]],ident(inode)],ident(i_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENODEV)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(down_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[call[exp[ident(atomic_dec_and_test)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(use_count)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[string(Segment %s became idle and is being saved now\n)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[call[exp[ident(segment_save)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(save_pending)]],exp[const[int(0)]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(up_write)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(dcssblk_make_request),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(q),fulltype[pointer[fulltype[struct(request_queue)]]]],param[reg(),name(bio),fulltype[pointer[fulltype[struct(bio)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bvec),fulltype[pointer[fulltype[struct(bio_vec)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(index),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(page_addr),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(source_addr),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(bytes_done),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_bdev)]],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]],exp[const[int(7)]]]],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_size)]],exp[const[int(4095)]]]],exp[const[int(0)]]]]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[binary_arith[aop(+),exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_size)]],exp[const[int(9)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]]]],exp[call[exp[ident(get_capacity)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_bdev)]],ident(bd_disk)]]]]]],stmt[comp{}[stmt[goto(fail)]]],stmt[exprstmt(none)]]],stmt[if[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(is_shared)]],stmt[comp{}[stmt[switch[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(segment_type)]],stmt[comp{}[stmt[case[exp[ident(SEG_TYPE_SR)],stmt[case[exp[ident(SEG_TYPE_ER)],stmt[case[exp[ident(SEG_TYPE_SC)],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(bio_data_dir)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]],exp[ident(WRITE)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(rejecting write to ro segment %s\n)]],exp[record_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]],ident(bus_id)]]]]]],stmt[goto(fail)]]],stmt[exprstmt(none)]]]]]]]]]]]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(index)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],ident(bi_sector)]],exp[const[int(3)]]]]]]]],stmt[macroit[bio_for_each_segment[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)],exp[binary_arith[aop(+),exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[call[exp[ident(page_address)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_page)]]]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_offset)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)],exp[binary_arith[aop(+),exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]],exp[binary_arith[aop(<<),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(index)],exp[const[int(12)]]]]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)]]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(!=),exp[call[exp[ident(unlikely)],exp[binary_arith[aop(&),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)],exp[const[int(4095)]]]]]],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]],exp[const[int(4095)]]]],exp[const[int(0)]]]]]],stmt[goto(fail)],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(bio_data_dir)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]],exp[ident(READ)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(source_addr)]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(page_addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]]]],stmt[exprstmt[exp[assign[op_assi(+=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(bytes_done)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio_vec)]]]],ident(bvec)],ident(bv_len)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(bio_endio)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)],exp[const[int(0)]]]]]],stmt[return[exp[const[int(0)]]]],stmt[labeled[lname(fail),stmt[exprstmt[exp[call[exp[ident(bio_io_error)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(bio)]]]],ident(bio)]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_direct_access),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(bdev),fulltype[pointer[fulltype[struct(block_device)]]]],param[reg(),name(secnum),fulltype[typeName[ident(sector_t),fullType(unknown)]]],param[reg(),name(data),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(pgoff),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(block_device)]]]],ident(bdev)],ident(bd_disk)]],ident(private_data)]]]]]],stmt[if[exp[![exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)]]],stmt[return[exp[-[exp[ident(ENODEV)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_arith[aop(%),exp[TYPEDEXP[fulltype[typeName[ident(sector_t),fullType(unknown)]]],ident(secnum)],exp[binary_arith[aop(/),exp[ident(PAGE_SIZE)],exp[const[int(512)]]]]]],stmt[return[exp[-[exp[ident(EINVAL)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[binary_arith[aop(/),exp[TYPEDEXP[fulltype[typeName[ident(sector_t),fullType(unknown)]]],ident(secnum)],exp[binary_arith[aop(/),exp[ident(PAGE_SIZE)],exp[const[int(512)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[binary_arith[aop(-),exp[binary_arith[aop(*),exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[const[int(1)]]]],exp[ident(PAGE_SIZE)]]],exp[const[int(1)]]]],exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]]]]]],stmt[return[exp[-[exp[ident(ERANGE)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(data)]]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[binary_arith[aop(+),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(start)]],exp[binary_arith[aop(*),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(pgoff)],exp[ident(PAGE_SIZE)]]]]]]]]]]],stmt[return[exp[const[int(0)]]]]]]],def[fname(dcssblk_check_params),funtype[fulltype[btype(void)],param[reg(),name(),fulltype[btype(void)]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(j),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(k),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(buf),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dev_info),fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[ident(DCSSBLK_PARM_LEN)]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(,)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(()]]]]]],exp[binary_logi[logiop(<),exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[const[int(8)]]]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(buf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_add_store)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(device)]]]],ident(dcssblk_root_dev)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[binary_arith[aop(-),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]],stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(>=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(()]]]]]],stmt[comp{}[stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)],exp[const[int(0)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]],exp[conts[char(\0)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(k)]]]]]]]]]]],stmt[if[exp[![exp[call[exp[ident(strncmp)],exp[&ref[exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]],exp[const[string((local))]],exp[const[int(7)]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(down_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcssblk_get_device_by_name)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(buf)]]]]]]],stmt[exprstmt[exp[call[exp[ident(up_read)],exp[&ref[exp[TYPEDEXP[fulltype[struct(rw_semaphore)]],ident(dcssblk_devices_sem)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[typeName[ident(ssize_t),fullType(unknown)]],param[reg(),name(dev),fulltype[pointer[fulltype[struct(device)]]]],param[reg(),name(attr),fulltype[pointer[fulltype[struct(device_attribute)]]]],param[reg(),name(inbuf),fulltype[pointer[fulltype[tqual(const),btype[itype(char)]]]]],param[reg(),name(count),fulltype[typeName[ident(size_t),fullType(unknown)]]]]]],ident(dcssblk_shared_store)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcssblk_dev_info)]]]],ident(dev_info)],ident(dev)]]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[string(0\n)]],exp[const[int(2)]]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]]]],stmt[exprstmt(none)]]],stmt[while[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(,)]]]],exp[binary_logi[logiop(!=),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]]]],stmt[comp{}[stmt[exprstmt[exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]],exp[conts[char(\0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(j)]]]]]]]]]]]],NCP(N/H),NCP(N/H),macrotop[module_init[exp[ident(dcssblk_init)]]],macrotop[module_exit[exp[ident(dcssblk_exit)]]],macrotop[module_param_string[exp[ident(segments)],exp[TYPEDEXP[fulltype[array[constExp[exp[ident(DCSSBLK_PARM_LEN)]],fulltype[btype[itype(char)]]]]],ident(dcssblk_segments)],exp[ident(DCSSBLK_PARM_LEN)],exp[const[int(0444)]]]],macrotop[MODULE_PARM_DESC[exp[ident(segments)],exp[const[other(N/H)]]]],macrotop[MODULE_LICENSE[exp[const[string(GPL)]]]]]

 ++ 
&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]] ==> &ref[exp[meta(X0)]]

exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],meta(X0)]]] ==> exp[&ref[exp[meta(X0)]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[meta(X1)]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[exp[meta(X0)],meta(X1),exp[&ref[meta(X2)]]] ==> call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[meta(X1)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[meta(X1)]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[meta(X1)]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),exp[meta(X1)],exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),meta(X1),exp[&ref[meta(X2)]]] ==> call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]

call[meta(X0),meta(X1),exp[&ref[meta(X2)]]] ==> call[meta(X0),meta(X1),exp[&ref[exp[ident(dcss_list)]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[exp[meta(X0)],exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[exp[meta(X0)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[exp[meta(X0)],meta(X1),exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[meta(X1)]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[meta(X0),exp[meta(X1)],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]

exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]] ==> exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(dcss_list)]]]]]

exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X0)]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add)],meta(X0),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],meta(X0),exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[exp[ident(list_add)],meta(X0),meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add)],meta(X0),exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],meta(X1)]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[exp[ident(list_add)],meta(X1),exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[meta(X0),exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]

exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]] ==> exprstmt[exp[call[meta(X0),meta(X1),exp[&ref[exp[ident(dcss_list)]]]]]]

stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]]] ==> stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]]

comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]] ==> comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]

stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]] ==> stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]

def[fname(__segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]] ==> def[fname(__segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[meta(X1)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[meta(X1)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[meta(X1)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[meta(X1)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[meta(X1)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],storage[meta(X1),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],storage[meta(X1),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],storage[stobis(static),meta(X1)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],meta(X1)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],meta(X1),storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],meta(X1),storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],meta(X1),storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],meta(X1),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],meta(X1),meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[meta(X2)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),ini[meta(X1)],meta(X2),storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]

prg2[includeN[inc_elem(linux),inc_elem(kernel.h)],includeN[inc_elem(linux),inc_elem(string.h)],includeN[inc_elem(linux),inc_elem(spinlock.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(bootmem.h)],includeN[inc_elem(linux),inc_elem(ctype.h)],includeN[inc_elem(linux),inc_elem(ioport.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(asm),inc_elem(ebcdic.h)],includeN[inc_elem(asm),inc_elem(errno.h)],includeN[inc_elem(asm),inc_elem(extmem.h)],includeN[inc_elem(asm),inc_elem(cpcmd.h)],includeN[inc_elem(asm),inc_elem(setup.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),dlist[onedecl(())],dlist[onedecl(())],dlist[onedecl(())],dlist[onedecl(())],mdecl[DEFINE_MUTEX[exp[ident(dcss_lock)]]],dlist[onedecl_ini[ident(dcss_list),ini[exp[call[exp[ident(LIST_HEAD_INIT)],exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]],dlist[onedecl_ini[ident(segtype_string),iniList[ini[exp[const[string(SW)]]],ini[exp[const[string(EW)]]],ini[exp[const[string(SR)]]],ini[exp[const[string(ER)]]],ini[exp[const[string(SN)]]],ini[exp[const[string(EN)]]],ini[exp[const[string(SC)]]],ini[exp[const[string(EW/EN-MIXED)]]]],fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]],storage[stobis(static),inline(no)]]],def[fname(dcss_mkname),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt(none)],stmt[for[expr(empty),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char( )]]]]]]]],stmt[exprstmt[exp[call[exp[ident(ASCEBC)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[const[int(8)]]]]]]]]],def[fname(segment_by_name),funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dcss_name),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]],onedecl_ini[ident(retval),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[call[exp[ident(mutex_is_locked)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(dcss_name)]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(memcmp)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)],ident(dcss_name)]],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[const[int(8)]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(retval)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(retval)]]]]]],def[fname(dcss_diag),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rx),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(ry),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(rx)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(parameter)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(ry)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(__u8),fullType(unknown)]]],ident(func)]]]]]]],statem(N/H),stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(ret1)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(rx)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(ret2)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(ry)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcss_diag_translate_rc),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(vm_rc)],exp[const[int(44)]]]],stmt[return[exp[-[exp[ident(ENOENT)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[-[exp[ident(EIO)]]]]]]]],def[fname(query_segment_type),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(qin),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(qin64)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(qin64)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(qout),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(qout64)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(qout64)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(vmrc),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qopcode)]],exp[ident(DCSS_FINDSEGA)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qoutptr)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qoutlen)]],exp[sizeoftype[fulltype[struct(qout64)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qname)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_SEGEXT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_type: diag returned error %ld\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]],exp[const[int(6)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[const[int(0)]]]],ident(start)]],exp[const[int(0xff)]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(start),ini[exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segstart)]],exp[ident(PAGE_SHIFT)]]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]],exp[ident(SEG_TYPE_EW)]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]],exp[ident(SEG_TYPE_EN)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(start)],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[ident(PAGE_SHIFT)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(start)],exp[binary_arith[aop(+),exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(end)]],exp[ident(PAGE_SHIFT)]]],exp[const[int(1)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_EWEN)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segstart)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segend)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[binary_arith[aop(*),exp[const[int(6)]],exp[sizeoftype[fulltype[struct(qrange)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(segcnt)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_type),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg),fulltype[struct(dcss_segment)],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[return[exp[-[exp[ident(ENOSYS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_acc[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[&ref[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[return[exp[record_acc[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)],ident(vm_segtype)]]]]]]],def[fname(__segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[TYPEDEXP[fulltype[struct(list_head)]],ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[return[exp[-[exp[ident(ENOSYS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(__segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(atomic_inc)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[const[int(0)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EPERM)]]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_modify_shared),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[~[exp[ident(IORESOURCE_READONLY)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_ER)]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]]]]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[goto(out_unlock)],stmt[labeled[lname(out_del),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]],stmt[labeled[lname(out_unlock),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_unload),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_dec_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]],exp[const[int(0)]]]],stmt[goto(out_unlock)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]],stmt[labeled[lname(out_unlock),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]]],def[fname(segment_save),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(startpfn),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(endpfn),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(cmd1),fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(cmd2),fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(response),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(startpfn)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(endpfn)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[const[string(DEFSEG %s)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(segcnt)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)]]]]],exp[const[string( %X-%X %s)]],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[ident(PAGE_SHIFT)]]],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(end)]],exp[ident(PAGE_SHIFT)]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]]],ident(cmd2)],exp[const[string(SAVESEG %s)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(cpcmd)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[int(0)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(segment_save: DEFSEG failed with response code %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(cpcmd)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]]],ident(cmd2)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[int(0)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(segment_save: SAVESEG failed with response code %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(segment_load)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_unload)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_save)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_type)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(segment_modify_shared)]]]] ==> prg2[includeN[inc_elem(linux),inc_elem(kernel.h)],includeN[inc_elem(linux),inc_elem(string.h)],includeN[inc_elem(linux),inc_elem(spinlock.h)],includeN[inc_elem(linux),inc_elem(list.h)],includeN[inc_elem(linux),inc_elem(slab.h)],includeN[inc_elem(linux),inc_elem(module.h)],includeN[inc_elem(linux),inc_elem(bootmem.h)],includeN[inc_elem(linux),inc_elem(ctype.h)],includeN[inc_elem(linux),inc_elem(ioport.h)],includeN[inc_elem(asm),inc_elem(page.h)],includeN[inc_elem(asm),inc_elem(pgtable.h)],includeN[inc_elem(asm),inc_elem(ebcdic.h)],includeN[inc_elem(asm),inc_elem(errno.h)],includeN[inc_elem(asm),inc_elem(extmem.h)],includeN[inc_elem(asm),inc_elem(cpcmd.h)],includeN[inc_elem(asm),inc_elem(setup.h)],define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),define(N/H),dlist[onedecl(())],dlist[onedecl(())],dlist[onedecl(())],dlist[onedecl(())],mdecl[DEFINE_MUTEX[exp[ident(dcss_lock)]]],mdecl[LIST_HEAD[exp[ident(dcss_list)]]],dlist[onedecl_ini[ident(segtype_string),iniList[ini[exp[const[string(SW)]]],ini[exp[const[string(EW)]]],ini[exp[const[string(SR)]]],ini[exp[const[string(ER)]]],ini[exp[const[string(SN)]]],ini[exp[const[string(EN)]]],ini[exp[const[string(SC)]]],ini[exp[const[string(EW/EN-MIXED)]]]],fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]],storage[stobis(static),inline(no)]]],def[fname(dcss_mkname),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char(\0)]]]],stmt[jump(break)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[call[exp[ident(toupper)],exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]]]]]]]]]]],stmt[exprstmt(none)],stmt[for[expr(empty),exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(8)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],exp[conts[char( )]]]]]]]],stmt[exprstmt[exp[call[exp[ident(ASCEBC)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[const[int(8)]]]]]]]]],def[fname(segment_by_name),funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dcss_name),fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(l),fulltype[pointer[fulltype[struct(list_head)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(tmp),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]],onedecl_ini[ident(retval),ini[exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(BUG_ON)],exp[![exp[call[exp[ident(mutex_is_locked)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(dcss_name)]]]]],stmt[macroit[list_for_each[stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)],exp[call[exp[ident(list_entry)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(list_head)]]]],ident(l)],argtype(N/H),exp[ident(list)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[call[exp[ident(memcmp)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)],ident(dcss_name)]],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(9)]]],fulltype[btype[itype(char)]]]]],ident(dcss_name)],exp[const[int(8)]]]],exp[const[int(0)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(retval)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(tmp)]]]]],stmt[jump(break)]]],stmt[exprstmt(none)]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(retval)]]]]]],def[fname(dcss_diag),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rx),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(ry),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(rx)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(parameter)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(ry)],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[typeName[ident(__u8),fullType(unknown)]]],ident(func)]]]]]]],statem(N/H),stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(ret1)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(rx)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(ret2)]]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(ry)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(dcss_diag_translate_rc),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(vm_rc)],exp[const[int(44)]]]],stmt[return[exp[-[exp[ident(ENOENT)]]]]],stmt[exprstmt(none)]]],stmt[return[exp[-[exp[ident(EIO)]]]]]]]],def[fname(query_segment_type),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(qin),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(qin64)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(qin64)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(qout),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(qout64)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(qout64)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(vmrc),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qopcode)]],exp[ident(DCSS_FINDSEGA)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qoutptr)]],exp[cast[fulltype[btype[itype[sgn(unsigned),base(long)]]],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qoutlen)]],exp[sizeoftype[fulltype[struct(qout64)]]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],ident(qname)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_SEGEXT)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_type: diag returned error %ld\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(vmrc)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]],exp[const[int(6)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[const[int(0)]]]],ident(start)]],exp[const[int(0xff)]]]]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(start),ini[exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segstart)]],exp[ident(PAGE_SHIFT)]]]],fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(&&),exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]],exp[ident(SEG_TYPE_EW)]]],exp[binary_logi[logiop(!=),exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]],exp[ident(SEG_TYPE_EN)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(start)],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[ident(PAGE_SHIFT)]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOTSUPP)]]]]]]],stmt[goto(out_free)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(start)],exp[binary_arith[aop(+),exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(end)]],exp[ident(PAGE_SHIFT)]]],exp[const[int(1)]]]]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_EWEN)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segstart)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segend)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(range)]],exp[binary_arith[aop(*),exp[const[int(6)]],exp[sizeoftype[fulltype[struct(qrange)]]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(segcnt)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)],ident(segcnt)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qin64)]]]],ident(qin)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(qout64)]]]],ident(qout)]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_type),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg),fulltype[struct(dcss_segment)],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[return[exp[-[exp[ident(ENOSYS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_acc[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[&ref[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)]]]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]],stmt[exprstmt(none)]]],stmt[return[exp[record_acc[exp[TYPEDEXP[fulltype[struct(dcss_segment)]],ident(seg)],ident(vm_segtype)]]]]]]],def[fname(__segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl_ini[ident(seg),ini[exp[call[exp[ident(kmalloc)],exp[sizeoftype[fulltype[struct(dcss_segment)]]],exp[ident(GFP_DMA)]]]],fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(dcss_name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(dcss_mkname)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]]]]]],ident(query_segment_type)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[if[exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]],stmt[goto(out_free)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[ident(add_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[switch[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],stmt[comp{}[stmt[case[exp[const[int(0)]],stmt[jump(break)]]],stmt[case[exp[-[exp[ident(ENOSPC)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[case[exp[-[exp[ident(ERANGE)]]],stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[goto(out_free)],stmt[default[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[string(segment_load: not loading segment %s (rc: %d)\n)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]],stmt[goto(out_free)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[call[exp[ident(kzalloc)],exp[sizeoftype[fulltype[struct(resource)]]],exp[ident(GFP_KERNEL)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(ENOMEM)]]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[binary_arith[aop(|),exp[ident(IORESOURCE_BUSY)],exp[ident(IORESOURCE_MEM)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(start)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[call[exp[ident(memcpy)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[call[exp[ident(EBCASC)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[int(8)]]]],exp[conts[char(\0)]]]]]],stmt[exprstmt[exp[call[exp[ident(strncat)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]],exp[const[string( (DCSS))]],exp[const[int(7)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(name)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res_name)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SC)]]],exp[binary_logi[logiop(&&),exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[ident(SEG_TYPE_ER)]]]]],exp[![exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_shared)]]],stmt[exprstmt(none)]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_resource)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[call[exp[ident(atomic_set)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]],exp[const[int(1)]]]]]],stmt[exprstmt[exp[call[exp[ident(list_add)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]],exp[&ref[exp[ident(dcss_list)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[cast[fulltype[pointer[fulltype[btype(void)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]]]]]],stmt[goto(out)],stmt[labeled[lname(out_resource),stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[labeled[lname(out_shared),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[labeled[lname(out_free),stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]]]],stmt[labeled[lname(out),stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]]]],def[fname(segment_load),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[return[exp[-[exp[ident(ENOSYS)]]]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(__segment_load)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]]]]]],stmt[comp{}[stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(atomic_inc)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(addr)]]],exp[assign[simple_assi(=),exp[*ref[exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],ident(end)]]],exp[const[int(0)]]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EPERM)]]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_modify_shared),funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(dcss_command),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(rc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(diag_cc),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EINVAL)]]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_INFO)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_read)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EAGAIN)]]]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNSR)]]]]],stmt[exprstmt[exp[assign[op_assi(&=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[~[exp[ident(IORESOURCE_READONLY)]]]]]]]]],stmt[comp{}[stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[ident(DCSS_LOADNOLY)]]]]],stmt[if[exp[binary_logi[logiop(||),exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_SR)]]],exp[binary_logi[logiop(==),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(vm_segtype)]],exp[ident(SEG_TYPE_ER)]]]]],stmt[exprstmt[exp[assign[op_assi(|=),exp[record_ptr[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]],ident(flags)]],exp[ident(IORESOURCE_READONLY)]]]]],stmt[exprstmt(none)]]]]]]],stmt[if[exp[call[exp[ident(request_resource)],exp[&ref[exp[ident(iomem_resource)]]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[-[exp[ident(EBUSY)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[goto(out_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(dcss_command)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]]]],stmt[if[exp[binary_logi[logiop(>),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(diag_cc)],exp[const[int(1)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_WARN)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(vm_rc),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(dcss_diag_translate_rc)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]]]]]]]],stmt[goto(out_del)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(do_nonshared)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(do_nonshared)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)],exp[const[int(0)]]]]]],stmt[goto(out_unlock)],stmt[labeled[lname(out_del),stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]],stmt[labeled[lname(out_unlock),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]],stmt[return[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(rc)]]]]]],def[fname(segment_unload),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(dummy),fulltype[btype[itype[sgn(unsigned),base(long)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[goto(out_unlock)]]],stmt[exprstmt(none)]]],stmt[if[exp[binary_logi[logiop(!=),exp[call[exp[ident(atomic_dec_return)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(ref_count)]]]]]],exp[const[int(0)]]]],stmt[goto(out_unlock)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(release_resource)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(res)]]]]]],stmt[exprstmt[exp[call[exp[ident(remove_shared_memory)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[binary_arith[aop(+),exp[binary_arith[aop(-),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]]]],exp[const[int(1)]]]]]]]],stmt[exprstmt[exp[call[exp[ident(list_del)],exp[&ref[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(list)]]]]]]]],stmt[exprstmt[exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(func),fulltype[typeName[ident(__u8),fullType(unknown)]]],param[reg(),name(parameter),fulltype[pointer[fulltype[btype(void)]]]],param[reg(),name(ret1),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(ret2),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(dcss_diag)],exp[ident(DCSS_PURGESEG)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(dcss_name)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(unsigned),base(long)]]]],ident(dummy)]]]]]]],stmt[exprstmt[exp[call[exp[ident(kfree)],exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)]]]]],stmt[labeled[lname(out_unlock),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]]],def[fname(segment_save),funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]],stmt[comp{}[stmt[dlist[onedecl[ident(seg),fulltype[pointer[fulltype[struct(dcss_segment)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(startpfn),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl_ini[ident(endpfn),ini[exp[const[int(0)]]],fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(cmd1),fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(cmd2),fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]],storage[stobis(nosto),inline(no)]]]],stmt[dlist[onedecl[ident(i),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]],onedecl[ident(response),fulltype[btype[itype[sgn(signed),base(int)]]],storage[stobis(nosto),inline(no)]]]],stmt[if[exp[![exp[ident(MACHINE_IS_VM)]]],stmt[jump(return)],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(mutex_lock)],exp[&ref[exp[ident(dcss_lock)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[call[exp[TYPEDEXP[fulltype[funtype[fulltype[pointer[fulltype[struct(dcss_segment)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_by_name)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]]]],stmt[if[exp[binary_logi[logiop(==),exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[other(N/H)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(startpfn)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(start_addr)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(endpfn)],exp[binary_arith[aop(>>),exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(end)]],exp[ident(PAGE_SHIFT)]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[const[string(DEFSEG %s)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[for[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[const[int(0)]]]],exp[binary_logi[logiop(<),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)],exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(segcnt)]]]],exp[postfix[++[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]]],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[binary_arith[aop(+),exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[call[exp[ident(strlen)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)]]]]],exp[const[string( %X-%X %s)]],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[ident(PAGE_SHIFT)]]],exp[binary_arith[aop(>>),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(end)]],exp[ident(PAGE_SHIFT)]]],exp[array_acc[exp[TYPEDEXP[fulltype[array[constExp(none),fulltype[pointer[fulltype[btype[itype(char)]]]]]]],ident(segtype_string)],exp[binary_arith[aop(&),exp[record_acc[exp[array_acc[exp[record_ptr[exp[TYPEDEXP[fulltype[pointer[fulltype[struct(dcss_segment)]]]],ident(seg)],ident(range)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(i)]]],ident(start)]],exp[const[int(0xff)]]]]]]]]]]]]]],stmt[exprstmt[exp[call[exp[ident(sprintf)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]]],ident(cmd2)],exp[const[string(SAVESEG %s)]],exp[TYPEDEXP[fulltype[pointer[fulltype[btype[itype(char)]]]]],ident(name)]]]]],stmt[exprstmt[exp[assign[simple_assi(=),exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],exp[const[int(0)]]]]]],stmt[exprstmt[exp[call[exp[ident(cpcmd)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(160)]]],fulltype[btype[itype(char)]]]]],ident(cmd1)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[int(0)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(segment_save: DEFSEG failed with response code %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[exprstmt[exp[call[exp[ident(cpcmd)],exp[TYPEDEXP[fulltype[array[constExp[exp[const[int(80)]]],fulltype[btype[itype(char)]]]]],ident(cmd2)],exp[TYPEDEXP[fulltype[pointer[fulltype[btype(void)]]]],ident(NULL)],exp[const[int(0)]],exp[&ref[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]]]],stmt[if[exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)],stmt[comp{}[stmt[exprstmt[exp[call[exp[ident(PRINT_ERR)],exp[const[string(segment_save: SAVESEG failed with response code %i\n)]],exp[TYPEDEXP[fulltype[btype[itype[sgn(signed),base(int)]]]],ident(response)]]]]],stmt[goto(out)]]],stmt[exprstmt(none)]]],stmt[labeled[lname(out),stmt[exprstmt[exp[call[exp[ident(mutex_unlock)],exp[&ref[exp[ident(dcss_lock)]]]]]]]]]]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]],param[reg(),name(addr),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]],param[reg(),name(end),fulltype[pointer[fulltype[btype[itype[sgn(unsigned),base(long)]]]]]]]]],ident(segment_load)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_unload)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype(void)],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_save)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]]]]],ident(segment_type)]]],macrotop[EXPORT_SYMBOL[exp[TYPEDEXP[fulltype[funtype[fulltype[btype[itype[sgn(signed),base(int)]]],param[reg(),name(name),fulltype[pointer[fulltype[btype[itype(char)]]]]],param[reg(),name(do_nonshared),fulltype[btype[itype[sgn(signed),base(int)]]]]]]],ident(segment_modify_shared)]]]]

 ++ 
}}}
[Main] filtering all safe patches.
[Main] filter_all
Raw list of simple updates
{{{
dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),meta(X1),fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],meta(X2)]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),meta(X2)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[meta(X2),meta(X3)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
 ++ 
}}}
[Main] generating solutions...
[Main] solution #1
{{{
	dlist[onedecl_ini[meta(X0),ini[meta(X1)],fulltype[struct(list_head)],storage[stobis(static),inline(no)]]] ==> mdecl[LIST_HEAD[exp[meta(X0)]]]
}}}
